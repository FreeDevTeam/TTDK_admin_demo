{"version":3,"sources":["helper/common.js","constants/url.js","services/request.js","../node_modules/moment/dist/locale sync /^/.*$","services/deviceService.js","views/pages/device/index.js"],"names":["getQueryString","query","result","queryString","stringify","toDataURL","src","callback","outputFormat","img","Image","crossOrigin","onload","dataURL","canvas","document","createElement","ctx","getContext","height","this","naturalHeight","width","naturalWidth","drawImage","complete","undefined","convertFileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onerror","HOST","process","send","method","path","data","headers","newUrl","url","token","window","localStorage","getItem","newToken","replace","Authorization","axios","then","catch","error","response","statusCode","message","toast","warn","clear","location","href","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","module","exports","DeviceService","Request","i","length","key","isSuccess","DefaultFilter","filter","skip","limit","order","value","STATUS","Devices","intl","useState","isLoading","setIsLoading","paramsFilter","setParamsFilter","currentPage","setCurrentPage","total","dataDevice","setDataDevice","searchText","setSearchText","filterStatus","setFilterStatus","a","deleteDeviceById","appDeviceId","action","formatMessage","success","fetchDataDevices","changeStatusDevice","updateDevice","deviceStatus","columns","name","selector","row","sortable","maxWidth","devicePrettyProductName","cell","stationUrl","stationsName","className","onClick","open","Number","createdAt","moment","locale","format","deviceOSName","size","deleteDeivce","params","isNoLoading","forEach","getList","_","isEmpty","useEffect","handleFilter","dataFilter","newParams","Card","Row","Col","sm","Input","bsSize","placeholder","target","keyCode","type","item","Math","random","pagination","noHeader","paginationServer","sortIcon","paginationComponent","count","ceil","toFixed","previousLabel","nextLabel","breakLabel","pageCount","marginPagesDisplayed","pageRangeDisplayed","activeClassName","forcePage","onPageChange","page","selected","handlePagination","pageClassName","nextLinkClassName","nextClassName","previousClassName","previousLinkClassName","pageLinkClassName","breakClassName","breakLinkClassName","containerClassName","progressPending","injectIntl","memo"],"mappings":"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","file":"static/js/22.6d28255c.chunk.js","sourcesContent":["// @ts-nocheck\r\nimport queryString from 'query-string'\r\n\r\nexport const getQueryString = (query) => {\r\n  const result = queryString.stringify(\r\n    query,\r\n  )\r\n\r\n  if (!result) return ''\r\n  return `?${result}`\r\n}\r\n\r\nexport const debounced = (delay, fn) => {\r\n  let timerId\r\n\r\n  return (...args) => {\r\n    if (timerId) {\r\n      clearTimeout(timerId)\r\n    }\r\n\r\n    timerId = setTimeout(() => {\r\n      fn(...args)\r\n      timerId = null\r\n    }, delay)\r\n  }\r\n}\r\n\r\nexport const capitalizeFirstLetter = (stringText) => {\r\n  return stringText.charAt(0).toUpperCase() + stringText.slice(1)\r\n}\r\n\r\nexport const getParameterByName = (name, url) => {\r\n  if (!url) url = ''\r\n  // eslint-disable-next-line\r\n  name = name.replace(/[\\[\\]]/g, '\\\\$&')\r\n  let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\r\n    results = regex.exec(url)\r\n  if (!results) return null\r\n  if (!results[2]) return ''\r\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\r\n}\r\n\r\nexport const isEquivalent = (a, b) => {\r\n  // Create arrays of property names\r\n  let aProps = Object.getOwnPropertyNames(a)\r\n  let bProps = Object.getOwnPropertyNames(b)\r\n  // If number of properties is different,\r\n  // objects are not equivalent\r\n  if (aProps.length !== bProps.length) {\r\n    return false\r\n  }\r\n  for (let i = 0; i < aProps.length; i++) {\r\n    let propName = aProps[i]\r\n    // If values of same property are not equal,\r\n    // objects are not equivalent\r\n    if (a[propName] !== b[propName]) {\r\n      return false\r\n    }\r\n  }\r\n  // If we made it this far, objects\r\n  // are considered equivalent\r\n  return true\r\n}\r\n\r\nexport const xoa_dau = (str) => {\r\n  str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n  str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n  str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n  str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n  str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n  str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n  str = str.replace(/đ/g, \"d\");\r\n  str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\r\n  str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\r\n  str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\r\n  str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\r\n  str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\r\n  str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\r\n  str = str.replace(/Đ/g, \"D\");\r\n  return str;\r\n}\r\n\r\nexport const number_to_price = (v) => {\r\n\r\n  if (v === 0) { return '0'; }\r\n\r\n  if (!v || v === \"\") {\r\n    return v\r\n  }\r\n  v = v.toString();\r\n\r\n  v = v.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1.\");\r\n\r\n  v = v.split(',').join('*').split('.').join(',').split('*').join('.');\r\n  return v;\r\n}\r\n\r\nexport const price_to_number = (v) => {\r\n  if (!v) { return 0; }\r\n  v = v.split(',').join('');\r\n  v = v.split('.').join(',');\r\n\r\n  return Number(v);\r\n}\r\n\r\nexport function validateEmail(email) {\r\n  // eslint-disable-next-line\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(email);\r\n}\r\n\r\nexport function validatePass(pass) {\r\n  const passw = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/;\r\n  return passw.test(pass);\r\n}\r\n\r\nexport function validateNumberPhone(number) {\r\n  let c1 = number.substring(0, 4);\r\n  if (c1 === \"+855\") {\r\n    return true;\r\n  }\r\n  c1 = number.substring(0, 3);\r\n  return c1 === \"+60\" || c1 === \"+84\";\r\n}\r\n\r\nexport function toDataURL(src, callback, outputFormat) {\r\n  var img = new Image();\r\n  img.crossOrigin = 'Anonymous';\r\n  img.onload = function () {\r\n    var canvas = document.createElement('CANVAS');\r\n    var ctx = canvas.getContext('2d');\r\n    var dataURL;\r\n    canvas.height = this.naturalHeight;\r\n    canvas.width = this.naturalWidth;\r\n    ctx.drawImage(this, 0, 0);\r\n    dataURL = canvas.toDataURL(outputFormat);\r\n    callback(dataURL);\r\n  };\r\n  img.src = src;\r\n  if (img.complete || img.complete === undefined) {\r\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\r\n    img.src = src;\r\n  }\r\n}\r\n\r\nexport function convertFileToBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = reject;\r\n  });\r\n}\r\n\r\n\r\nconst _cutNumber = (number) => {\r\n  const num = number.toString()\r\n  if(num.length > 3) {\r\n    let count = 0\r\n    let arr = []\r\n    for(let i = num.length - 1; i >= 0; i--) {\r\n      count++\r\n      if(count === 3) {\r\n        const str = num[i] + num[i+1] + num[i+2]\r\n        arr.push(str)\r\n        count = 0;\r\n      }\r\n      if(i === 0) {\r\n        if(count === 2) {\r\n          const str = num[i] + num[i+1]\r\n          arr.push(str)\r\n        } else if(count === 1) {\r\n          const str = num[i]\r\n          arr.push(str)\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    console.log(arr)\r\n    return arr.reverse().join(',')\r\n  } else {\r\n    return num;\r\n  }\r\n}\r\n\r\nexport function formatDot(number) {\r\n  if (!number) {\r\n    return ''\r\n  }\r\n  return _cutNumber(number)\r\n}\r\n\r\nexport function formatVND(number) {\r\n  if (!number) {\r\n    return ''\r\n  }\r\n  if (typeof number === 'number') {\r\n    return _cutNumber(number)\r\n  }\r\n\r\n  if(typeof number === 'string') {\r\n    let arrValue = number.split('.')\r\n    let formatedValue = _cutNumber(arrValue[0]);\r\n    return `${formatedValue}.${arrValue[1]}`;\r\n  }\r\n}","export const HOST = process.env.REACT_APP_API_URL || \"https://cdn-dev.kiemdinhoto.vn/\"\r\n\r\nexport const IMAGE_HOST = HOST + 'upload/'","// @ts-nocheck\r\nimport axios from 'axios'\r\nimport { HOST } from './../constants/url'\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  getQueryString,\r\n} from '../helper/common'\r\n\r\nfunction send({\r\n  method = 'get', path, data = null, query = null, headers = {}, newUrl\r\n}) {\r\n  return new Promise((resolve) => {\r\n    let url = HOST + `${path}${getQueryString(query)}`\r\n    if (newUrl) {\r\n      url = `${newUrl}${getQueryString(query)}`\r\n    }\r\n    let token = window.localStorage.getItem('accessToken')\r\n    \r\n    if (token) {\r\n      const newToken = token.replace(/\"/g, \"\");\r\n      headers.Authorization =`Bearer ${newToken}`\r\n    }\r\n    axios({\r\n      method, url, data, headers,\r\n    })\r\n      .then((result) => {\r\n        const data = result.data\r\n        return resolve(data)\r\n      })\r\n      .catch((error) => {\r\n        const {response ={}} = error\r\n        \r\n        const result = response.data ? response.data :null\r\n         \r\n        if (!result) {\r\n          toast.warn(\"Error from server\")\r\n        }\r\n        else {\r\n          const { statusCode, message: data } = result\r\n          if(statusCode === 505){\r\n            toast.warn(\"Unauthorized\")\r\n          }\r\n          else if (\r\n            (statusCode === 413 && data === 'Payload content length greater than maximum allowed: 10485760')) {\r\n            toast.warn(\"Image too large\")\r\n          }\r\n         else if (statusCode === 401 && data === 'Expired token received for JSON Web Token validation') {\r\n            window.localStorage.clear()\r\n            window.location.href = '/'\r\n           \r\n          }\r\n          else if (\r\n            (statusCode === 401 && data === 'Unauthorized') || (statusCode === 403 && data === 'InvalidToken')) {\r\n              window.localStorage.clear()\r\n              window.location.href = '/'\r\n            \r\n          } else {\r\n            return resolve(result.data)\r\n          }\r\n        }\r\n      })\r\n  })\r\n}\r\n\r\nexport default {\r\n  send,\r\n}\r\n","var map = {\n\t\"./af\": 667,\n\t\"./af.js\": 667,\n\t\"./ar\": 668,\n\t\"./ar-dz\": 669,\n\t\"./ar-dz.js\": 669,\n\t\"./ar-kw\": 670,\n\t\"./ar-kw.js\": 670,\n\t\"./ar-ly\": 671,\n\t\"./ar-ly.js\": 671,\n\t\"./ar-ma\": 672,\n\t\"./ar-ma.js\": 672,\n\t\"./ar-sa\": 673,\n\t\"./ar-sa.js\": 673,\n\t\"./ar-tn\": 674,\n\t\"./ar-tn.js\": 674,\n\t\"./ar.js\": 668,\n\t\"./az\": 675,\n\t\"./az.js\": 675,\n\t\"./be\": 676,\n\t\"./be.js\": 676,\n\t\"./bg\": 677,\n\t\"./bg.js\": 677,\n\t\"./bm\": 678,\n\t\"./bm.js\": 678,\n\t\"./bn\": 679,\n\t\"./bn-bd\": 680,\n\t\"./bn-bd.js\": 680,\n\t\"./bn.js\": 679,\n\t\"./bo\": 681,\n\t\"./bo.js\": 681,\n\t\"./br\": 682,\n\t\"./br.js\": 682,\n\t\"./bs\": 683,\n\t\"./bs.js\": 683,\n\t\"./ca\": 684,\n\t\"./ca.js\": 684,\n\t\"./cs\": 685,\n\t\"./cs.js\": 685,\n\t\"./cv\": 686,\n\t\"./cv.js\": 686,\n\t\"./cy\": 687,\n\t\"./cy.js\": 687,\n\t\"./da\": 688,\n\t\"./da.js\": 688,\n\t\"./de\": 689,\n\t\"./de-at\": 690,\n\t\"./de-at.js\": 690,\n\t\"./de-ch\": 691,\n\t\"./de-ch.js\": 691,\n\t\"./de.js\": 689,\n\t\"./dv\": 692,\n\t\"./dv.js\": 692,\n\t\"./el\": 693,\n\t\"./el.js\": 693,\n\t\"./en-au\": 694,\n\t\"./en-au.js\": 694,\n\t\"./en-ca\": 695,\n\t\"./en-ca.js\": 695,\n\t\"./en-gb\": 696,\n\t\"./en-gb.js\": 696,\n\t\"./en-ie\": 697,\n\t\"./en-ie.js\": 697,\n\t\"./en-il\": 698,\n\t\"./en-il.js\": 698,\n\t\"./en-in\": 699,\n\t\"./en-in.js\": 699,\n\t\"./en-nz\": 700,\n\t\"./en-nz.js\": 700,\n\t\"./en-sg\": 701,\n\t\"./en-sg.js\": 701,\n\t\"./eo\": 702,\n\t\"./eo.js\": 702,\n\t\"./es\": 703,\n\t\"./es-do\": 704,\n\t\"./es-do.js\": 704,\n\t\"./es-mx\": 705,\n\t\"./es-mx.js\": 705,\n\t\"./es-us\": 706,\n\t\"./es-us.js\": 706,\n\t\"./es.js\": 703,\n\t\"./et\": 707,\n\t\"./et.js\": 707,\n\t\"./eu\": 708,\n\t\"./eu.js\": 708,\n\t\"./fa\": 709,\n\t\"./fa.js\": 709,\n\t\"./fi\": 710,\n\t\"./fi.js\": 710,\n\t\"./fil\": 711,\n\t\"./fil.js\": 711,\n\t\"./fo\": 712,\n\t\"./fo.js\": 712,\n\t\"./fr\": 713,\n\t\"./fr-ca\": 714,\n\t\"./fr-ca.js\": 714,\n\t\"./fr-ch\": 715,\n\t\"./fr-ch.js\": 715,\n\t\"./fr.js\": 713,\n\t\"./fy\": 716,\n\t\"./fy.js\": 716,\n\t\"./ga\": 717,\n\t\"./ga.js\": 717,\n\t\"./gd\": 718,\n\t\"./gd.js\": 718,\n\t\"./gl\": 719,\n\t\"./gl.js\": 719,\n\t\"./gom-deva\": 720,\n\t\"./gom-deva.js\": 720,\n\t\"./gom-latn\": 721,\n\t\"./gom-latn.js\": 721,\n\t\"./gu\": 722,\n\t\"./gu.js\": 722,\n\t\"./he\": 723,\n\t\"./he.js\": 723,\n\t\"./hi\": 724,\n\t\"./hi.js\": 724,\n\t\"./hr\": 725,\n\t\"./hr.js\": 725,\n\t\"./hu\": 726,\n\t\"./hu.js\": 726,\n\t\"./hy-am\": 727,\n\t\"./hy-am.js\": 727,\n\t\"./id\": 728,\n\t\"./id.js\": 728,\n\t\"./is\": 729,\n\t\"./is.js\": 729,\n\t\"./it\": 730,\n\t\"./it-ch\": 731,\n\t\"./it-ch.js\": 731,\n\t\"./it.js\": 730,\n\t\"./ja\": 732,\n\t\"./ja.js\": 732,\n\t\"./jv\": 733,\n\t\"./jv.js\": 733,\n\t\"./ka\": 734,\n\t\"./ka.js\": 734,\n\t\"./kk\": 735,\n\t\"./kk.js\": 735,\n\t\"./km\": 736,\n\t\"./km.js\": 736,\n\t\"./kn\": 737,\n\t\"./kn.js\": 737,\n\t\"./ko\": 738,\n\t\"./ko.js\": 738,\n\t\"./ku\": 739,\n\t\"./ku.js\": 739,\n\t\"./ky\": 740,\n\t\"./ky.js\": 740,\n\t\"./lb\": 741,\n\t\"./lb.js\": 741,\n\t\"./lo\": 742,\n\t\"./lo.js\": 742,\n\t\"./lt\": 743,\n\t\"./lt.js\": 743,\n\t\"./lv\": 744,\n\t\"./lv.js\": 744,\n\t\"./me\": 745,\n\t\"./me.js\": 745,\n\t\"./mi\": 746,\n\t\"./mi.js\": 746,\n\t\"./mk\": 747,\n\t\"./mk.js\": 747,\n\t\"./ml\": 748,\n\t\"./ml.js\": 748,\n\t\"./mn\": 749,\n\t\"./mn.js\": 749,\n\t\"./mr\": 750,\n\t\"./mr.js\": 750,\n\t\"./ms\": 751,\n\t\"./ms-my\": 752,\n\t\"./ms-my.js\": 752,\n\t\"./ms.js\": 751,\n\t\"./mt\": 753,\n\t\"./mt.js\": 753,\n\t\"./my\": 754,\n\t\"./my.js\": 754,\n\t\"./nb\": 755,\n\t\"./nb.js\": 755,\n\t\"./ne\": 756,\n\t\"./ne.js\": 756,\n\t\"./nl\": 757,\n\t\"./nl-be\": 758,\n\t\"./nl-be.js\": 758,\n\t\"./nl.js\": 757,\n\t\"./nn\": 759,\n\t\"./nn.js\": 759,\n\t\"./oc-lnc\": 760,\n\t\"./oc-lnc.js\": 760,\n\t\"./pa-in\": 761,\n\t\"./pa-in.js\": 761,\n\t\"./pl\": 762,\n\t\"./pl.js\": 762,\n\t\"./pt\": 763,\n\t\"./pt-br\": 764,\n\t\"./pt-br.js\": 764,\n\t\"./pt.js\": 763,\n\t\"./ro\": 765,\n\t\"./ro.js\": 765,\n\t\"./ru\": 766,\n\t\"./ru.js\": 766,\n\t\"./sd\": 767,\n\t\"./sd.js\": 767,\n\t\"./se\": 768,\n\t\"./se.js\": 768,\n\t\"./si\": 769,\n\t\"./si.js\": 769,\n\t\"./sk\": 770,\n\t\"./sk.js\": 770,\n\t\"./sl\": 771,\n\t\"./sl.js\": 771,\n\t\"./sq\": 772,\n\t\"./sq.js\": 772,\n\t\"./sr\": 773,\n\t\"./sr-cyrl\": 774,\n\t\"./sr-cyrl.js\": 774,\n\t\"./sr.js\": 773,\n\t\"./ss\": 775,\n\t\"./ss.js\": 775,\n\t\"./sv\": 776,\n\t\"./sv.js\": 776,\n\t\"./sw\": 777,\n\t\"./sw.js\": 777,\n\t\"./ta\": 778,\n\t\"./ta.js\": 778,\n\t\"./te\": 779,\n\t\"./te.js\": 779,\n\t\"./tet\": 780,\n\t\"./tet.js\": 780,\n\t\"./tg\": 781,\n\t\"./tg.js\": 781,\n\t\"./th\": 782,\n\t\"./th.js\": 782,\n\t\"./tk\": 783,\n\t\"./tk.js\": 783,\n\t\"./tl-ph\": 784,\n\t\"./tl-ph.js\": 784,\n\t\"./tlh\": 785,\n\t\"./tlh.js\": 785,\n\t\"./tr\": 786,\n\t\"./tr.js\": 786,\n\t\"./tzl\": 787,\n\t\"./tzl.js\": 787,\n\t\"./tzm\": 788,\n\t\"./tzm-latn\": 789,\n\t\"./tzm-latn.js\": 789,\n\t\"./tzm.js\": 788,\n\t\"./ug-cn\": 790,\n\t\"./ug-cn.js\": 790,\n\t\"./uk\": 791,\n\t\"./uk.js\": 791,\n\t\"./ur\": 792,\n\t\"./ur.js\": 792,\n\t\"./uz\": 793,\n\t\"./uz-latn\": 794,\n\t\"./uz-latn.js\": 794,\n\t\"./uz.js\": 793,\n\t\"./vi\": 601,\n\t\"./vi.js\": 601,\n\t\"./x-pseudo\": 795,\n\t\"./x-pseudo.js\": 795,\n\t\"./yo\": 796,\n\t\"./yo.js\": 796,\n\t\"./zh-cn\": 797,\n\t\"./zh-cn.js\": 797,\n\t\"./zh-hk\": 798,\n\t\"./zh-hk.js\": 798,\n\t\"./zh-mo\": 799,\n\t\"./zh-mo.js\": 799,\n\t\"./zh-tw\": 800,\n\t\"./zh-tw.js\": 800\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 941;","import Request from \"./request\";\r\n\r\nexport default class DeviceService {\r\n  static async getList(data = {}) {\r\n    return new Promise(resolve=>{\r\n      Request.send({\r\n        method: 'POST',\r\n        path: 'AppDevices/find',\r\n        data\r\n      }).then((result = {})=>{\r\n        const { statusCode, data } = result\r\n        if(statusCode === 200) {\r\n          for(let i = 0; i < data.data.length; i++) {\r\n            if(data.data[i]) {\r\n              data.data[i].key = data.data.length - i\r\n            }\r\n          }\r\n          return resolve(data)\r\n        }else{\r\n          return resolve({})\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  static async updateDevice(data = {}) {\r\n    return new Promise(resolve=>{\r\n      Request.send({\r\n        method: 'POST',\r\n        path: 'AppDevices/UpdateById',\r\n        data\r\n      }).then((result = {})=>{\r\n        const { statusCode } = result\r\n        if(statusCode === 200) {\r\n          return resolve({ isSuccess: true })\r\n        }else{\r\n          return resolve({ isSuccess: false })\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  static async deleteDeviceById(id) {\r\n    return new Promise(resolve=>{\r\n      Request.send({\r\n        method: 'POST',\r\n        path: 'AppDevices/deleteById',\r\n        data: {\r\n          id: id\r\n        }\r\n      }).then((result = {})=>{\r\n        const { statusCode } = result\r\n        if(statusCode === 200) {\r\n          return resolve({ isSuccess: true })\r\n        }else{\r\n          return resolve({ isSuccess: false })\r\n        }\r\n      })\r\n    })\r\n  }\r\n}","import React, { memo, useEffect, useState } from 'react'\r\nimport DataTable from 'react-data-table-component';\r\nimport { ChevronDown, Lock, Unlock, Trash } from 'react-feather'\r\nimport {\r\n  Card, Input, Row, Col\r\n} from 'reactstrap'\r\nimport './device.scss'\r\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\r\nimport ReactPaginate from 'react-paginate';\r\nimport DeviceService from '../../../services/deviceService'\r\nimport _ from 'lodash';\r\nimport { toast } from 'react-toastify';\r\nimport 'moment/dist/locale/vi'\r\nimport moment from 'moment';\r\nimport { injectIntl } from 'react-intl';\r\n\r\nconst DefaultFilter = {\r\n  filter: {},\r\n  skip: 0,\r\n  limit: 20,\r\n  order: {\r\n    key: \"createdAt\",\r\n    value: \"desc\"\r\n  }\r\n}\r\n\r\nconst STATUS = [\r\n  \"locked\",\r\n  'ok'\r\n]\r\n\r\nfunction Devices({ intl }) {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [paramsFilter, setParamsFilter] = useState(DefaultFilter)\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [dataDevice, setDataDevice] = useState({\r\n    data: [],\r\n    total: 0\r\n  })\r\n  const [searchText, setSearchText] = useState('')\r\n  const [filterStatus, setFilterStatus] = useState(\"ALL\")\r\n\r\n  async function deleteDeivce(data) {\r\n    DeviceService.deleteDeviceById(data.appDeviceId).then(result => {\r\n      let action = {action: intl.formatMessage({id: \"delete\"})}\r\n      if(result && result.isSuccess) {\r\n        toast.success(intl.formatMessage({id: 'actionSuccess'}, action))\r\n        fetchDataDevices(paramsFilter, true)\r\n      } else {\r\n        toast.error(intl.formatMessage({id: 'actionFailed'}, action))\r\n      }\r\n    })\r\n  }\r\n\r\n  function changeStatusDevice(data) {\r\n    DeviceService.updateDevice({\r\n      id: data.appDeviceId,\r\n      data: {\r\n        deviceStatus: data.deviceStatus === 0 ? 1 : 0\r\n      }\r\n    }).then(result => {\r\n      let action = {action: intl.formatMessage({id: \"update\"})}\r\n      if(result.isSuccess) {\r\n        toast.success(intl.formatMessage({id: 'actionSuccess'}, action ))\r\n        fetchDataDevices(paramsFilter, true)\r\n      } else {\r\n        toast.error(intl.formatMessage({id: 'actionFailed'}, action ))\r\n      }\r\n    })\r\n  }\r\n\r\n  const columns = [\r\n    {\r\n      name: intl.formatMessage({ id:'index' }),\r\n      selector: row => row.key,      \r\n      sortable: true,\r\n      maxWidth: '60px'\r\n    },\r\n    {\r\n      name: intl.formatMessage({  id: 'deviceName' }),\r\n      selector: row => row.devicePrettyProductName,\r\n    },\r\n    {\r\n      name: intl.formatMessage({  id: 'stations' }),\r\n      cell: (row) => {\r\n        const { stationUrl, stationsName } = row\r\n\r\n        return (\r\n          <div className=\"text-link pointer\" onClick={() => window.open(`https://${stationUrl}`, '_blank')}>\r\n           {stationsName}\r\n          </div>\r\n        )\r\n      }\r\n    },\r\n    {\r\n      name: intl.formatMessage({  id: 'status' }),\r\n      cell: row => {\r\n        return (\r\n          <>\r\n            <div>{intl.formatMessage({ id:STATUS[Number(row.deviceStatus)] })}</div>\r\n          </>\r\n        )\r\n      },\r\n    },\r\n    {\r\n      name: intl.formatMessage({  id: 'createdAt' }),\r\n      cell: (row) => {\r\n        const { createdAt } = row\r\n\r\n        return (\r\n          <div>\r\n           {moment(createdAt).locale('vi').format('hh:mm DD/MM/YYYY')}\r\n          </div>\r\n        )\r\n      }\r\n    },\r\n    {\r\n      name: intl.formatMessage({  id: 'deviceOS' }),\r\n      selector: row => row.deviceOSName\r\n    },\r\n    {\r\n      name: '',\r\n      cell: (row) => {\r\n        return (\r\n          <>\r\n            {\r\n              row.deviceStatus === 0 ? (\r\n                <Unlock size={20} onClick={() => changeStatusDevice(row)} className=\"mr-2 pointer\" />\r\n              ) : (\r\n                <Lock size={20} onClick={() => changeStatusDevice(row)} className=\"mr-2 pointer\" />\r\n              )\r\n            }\r\n            <Trash size={20} onClick={() => deleteDeivce(row)} className=\"pointer\" />\r\n          </>\r\n        )\r\n      }\r\n    },\r\n  ];\r\n\r\n  const handlePagination = page => {\r\n    const newParams = {\r\n      ...paramsFilter,\r\n      skip: (page.selected) * paramsFilter.limit\r\n    }\r\n    fetchDataDevices(newParams)\r\n    setCurrentPage(page.selected + 1)\r\n\r\n  }\r\n\r\n  // ** Custom Pagination\r\n  const CustomPagination = () => {\r\n    const count = Number(Math.ceil(dataDevice / 20).toFixed(0))\r\n\r\n    return (\r\n      <ReactPaginate\r\n        previousLabel={''}\r\n        nextLabel={''}\r\n        breakLabel='...'\r\n        pageCount={count || 1}\r\n        marginPagesDisplayed={2}\r\n        pageRangeDisplayed={2}\r\n        activeClassName='active'\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        onPageChange={page => handlePagination(page)}\r\n        pageClassName={'page-item'}\r\n        nextLinkClassName={'page-link'}\r\n        nextClassName={'page-item next'}\r\n        previousClassName={'page-item prev'}\r\n        previousLinkClassName={'page-link'}\r\n        pageLinkClassName={'page-link'}\r\n        breakClassName='page-item'\r\n        breakLinkClassName='page-link'\r\n        containerClassName={\r\n          'pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1'\r\n        }\r\n      />\r\n    )\r\n  }\r\n\r\n  const fetchDataDevices = (params, isNoLoading) => {\r\n    if (!isNoLoading) {\r\n      setIsLoading(true)\r\n    }\r\n\r\n    Object.keys(params.filter).forEach(key => {\r\n      if (!params.filter[key] || params.filter[key] === '') {\r\n        delete params.filter[key]\r\n      }\r\n    })\r\n\r\n    DeviceService.getList(params).then(result => {\r\n      setParamsFilter(params)\r\n      if(result && !_.isEmpty(result)) {\r\n        setDataDevice(result)\r\n      } else {\r\n        toast.warn('Có lỗi xảy ra. Vui lòngt thử lại sau!')\r\n        setDataDevice({\r\n          total: 0,\r\n          data: []\r\n        })\r\n      }\r\n      if (!isNoLoading) {\r\n        setIsLoading(false)\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchDataDevices(paramsFilter)\r\n  },[])\r\n\r\n  const handleFilter = (searchText, dataFilter) => {\r\n    const newParams = {\r\n      ...paramsFilter,\r\n      filter: {\r\n        ...paramsFilter.filter,\r\n        ...dataFilter,\r\n        deviceStatus: dataFilter.deviceStatus\r\n      },\r\n      searchText: searchText ? searchText : undefined,\r\n      skip: 0\r\n    }\r\n    fetchDataDevices(newParams, true)\r\n  }\r\n\r\n  const onPressEnter = (e) => {\r\n    const { value } = e.target\r\n    if(e.keyCode === 13) {\r\n      handleFilter(value ? value : undefined)\r\n    }\r\n  }\r\n\r\n  function handleFilterStatus(e) {\r\n    const { name, value } = e.target\r\n    setFilterStatus(value)\r\n    if(value !== \"ALL\") {\r\n      handleFilter(undefined, { [name]: value })\r\n    } else {\r\n      handleFilter(undefined, { [name]: undefined })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <Row className='mx-0 mt-1 mb-50'>\r\n          <Col sm='4'>\r\n            <div className='d-flex align-items-center'>\r\n              <Input\r\n                className='dataTable-select'\r\n                value={searchText}\r\n                name=\"searchText\"\r\n                bsSize='sm'\r\n                placeholder={intl.formatMessage({id:\"Search\"})}\r\n                className=\"w-75 ml-2\"\r\n                onChange={(e) => {\r\n                  setSearchText(e.target.value)\r\n                }}\r\n                onKeyDown={onPressEnter}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col sm='4'>\r\n            <div className='d-flex align-items-center'>\r\n              <Input\r\n                className='dataTable-select'\r\n                name=\"deviceStatus\"\r\n                bsSize='sm'\r\n                type=\"select\"\r\n                placeholder=\"Lọc trạng thái\"\r\n                className=\"w-75 ml-2\"\r\n                id='sort-select'\r\n                value={filterStatus}\r\n                onChange={handleFilterStatus}\r\n              >\r\n                <option value=\"ALL\">{intl.formatMessage({id:'all'})}</option>\r\n                {\r\n                  STATUS.map((item, value) => {\r\n                    return (\r\n                      <option value={Number(value)} key={Math.random()}>{intl.formatMessage({id:item})}</option>\r\n                    )\r\n                  })\r\n                }\r\n              </Input>\r\n            </div>\r\n          </Col>\r\n          <Col sm=\"4\"/>\r\n        </Row>\r\n        \r\n        <DataTable\r\n          pagination\r\n          noHeader\r\n          paginationServer\r\n          className='react-dataTable'\r\n          columns={columns}\r\n          sortIcon={<ChevronDown size={10} />}\r\n          paginationComponent={CustomPagination}\r\n          data={dataDevice.data}\r\n          progressPending={isLoading}\r\n        />\r\n      </Card>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default injectIntl(memo(Devices))"],"sourceRoot":""}