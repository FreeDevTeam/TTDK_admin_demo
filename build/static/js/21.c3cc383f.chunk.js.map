{"version":3,"sources":["helper/common.js","constants/url.js","services/request.js","views/components/switch/index.js","views/pages/station/formSMS.js"],"names":["getQueryString","query","result","queryString","stringify","toDataURL","src","callback","outputFormat","img","Image","crossOrigin","onload","dataURL","canvas","document","createElement","ctx","getContext","height","this","naturalHeight","width","naturalWidth","drawImage","complete","undefined","convertFileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onerror","HOST","process","send","method","path","data","headers","newUrl","url","token","window","localStorage","getItem","newToken","replace","Authorization","axios","then","catch","error","response","statusCode","message","toast","warn","clear","location","href","MySwitch","onChange","checked","disabled","className","type","FormSMS","intl","state","useLocation","useState","userData","setUserData","useUserSMSBrandConfig","setUseUserSMSBrandConfig","stationEnableUseSMS","setStationEnableUseSMS","isOpenModalTestSMS","setIsOpenModalTestSMS","smsProvider","smsType","setSmsType","history","useHistory","useForm","defaultValues","register","errors","handleSubmit","useEffect","Object","keys","length","stationCustomSMSBrandConfig","JSON","parse","stationUseCustomSMSBrand","handleOnchange","name","value","handleChange","row","sm","for","formatMessage","id","innerRef","required","invalid","smsCPCode","placeholder","e","target","smsServiceId","smsBrand","onClick","goBack","toUpperCase","md","onSubmit","params","stationsId","smsUrl","smsUserName","smsPassword","Service","res","success","action","setTimeout","push","handleUpdateData","newValue","bsSize","Ripple","color","isOpen","toggle","preventDefault","input","getElementById","phoneNumber","smsConfig","handleSendTestSMS","htmlFor","injectIntl","memo"],"mappings":"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","file":"static/js/21.c3cc383f.chunk.js","sourcesContent":["// @ts-nocheck\r\nimport queryString from 'query-string'\r\n\r\nexport const getQueryString = (query) => {\r\n  const result = queryString.stringify(\r\n    query,\r\n  )\r\n\r\n  if (!result) return ''\r\n  return `?${result}`\r\n}\r\n\r\nexport const debounced = (delay, fn) => {\r\n  let timerId\r\n\r\n  return (...args) => {\r\n    if (timerId) {\r\n      clearTimeout(timerId)\r\n    }\r\n\r\n    timerId = setTimeout(() => {\r\n      fn(...args)\r\n      timerId = null\r\n    }, delay)\r\n  }\r\n}\r\n\r\nexport const capitalizeFirstLetter = (stringText) => {\r\n  return stringText.charAt(0).toUpperCase() + stringText.slice(1)\r\n}\r\n\r\nexport const getParameterByName = (name, url) => {\r\n  if (!url) url = ''\r\n  // eslint-disable-next-line\r\n  name = name.replace(/[\\[\\]]/g, '\\\\$&')\r\n  let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\r\n    results = regex.exec(url)\r\n  if (!results) return null\r\n  if (!results[2]) return ''\r\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\r\n}\r\n\r\nexport const isEquivalent = (a, b) => {\r\n  // Create arrays of property names\r\n  let aProps = Object.getOwnPropertyNames(a)\r\n  let bProps = Object.getOwnPropertyNames(b)\r\n  // If number of properties is different,\r\n  // objects are not equivalent\r\n  if (aProps.length !== bProps.length) {\r\n    return false\r\n  }\r\n  for (let i = 0; i < aProps.length; i++) {\r\n    let propName = aProps[i]\r\n    // If values of same property are not equal,\r\n    // objects are not equivalent\r\n    if (a[propName] !== b[propName]) {\r\n      return false\r\n    }\r\n  }\r\n  // If we made it this far, objects\r\n  // are considered equivalent\r\n  return true\r\n}\r\n\r\nexport const xoa_dau = (str) => {\r\n  str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n  str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n  str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n  str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n  str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n  str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n  str = str.replace(/đ/g, \"d\");\r\n  str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\r\n  str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\r\n  str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\r\n  str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\r\n  str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\r\n  str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\r\n  str = str.replace(/Đ/g, \"D\");\r\n  return str;\r\n}\r\n\r\nexport const number_to_price = (v) => {\r\n\r\n  if (v === 0) { return '0'; }\r\n\r\n  if (!v || v === \"\") {\r\n    return v\r\n  }\r\n  v = v.toString();\r\n\r\n  v = v.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1.\");\r\n\r\n  v = v.split(',').join('*').split('.').join(',').split('*').join('.');\r\n  return v;\r\n}\r\n\r\nexport const price_to_number = (v) => {\r\n  if (!v) { return 0; }\r\n  v = v.split(',').join('');\r\n  v = v.split('.').join(',');\r\n\r\n  return Number(v);\r\n}\r\n\r\nexport function validateEmail(email) {\r\n  // eslint-disable-next-line\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(email);\r\n}\r\n\r\nexport function validatePass(pass) {\r\n  const passw = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/;\r\n  return passw.test(pass);\r\n}\r\n\r\nexport function validateNumberPhone(number) {\r\n  let c1 = number.substring(0, 4);\r\n  if (c1 === \"+855\") {\r\n    return true;\r\n  }\r\n  c1 = number.substring(0, 3);\r\n  return c1 === \"+60\" || c1 === \"+84\";\r\n}\r\n\r\nexport function toDataURL(src, callback, outputFormat) {\r\n  var img = new Image();\r\n  img.crossOrigin = 'Anonymous';\r\n  img.onload = function () {\r\n    var canvas = document.createElement('CANVAS');\r\n    var ctx = canvas.getContext('2d');\r\n    var dataURL;\r\n    canvas.height = this.naturalHeight;\r\n    canvas.width = this.naturalWidth;\r\n    ctx.drawImage(this, 0, 0);\r\n    dataURL = canvas.toDataURL(outputFormat);\r\n    callback(dataURL);\r\n  };\r\n  img.src = src;\r\n  if (img.complete || img.complete === undefined) {\r\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\r\n    img.src = src;\r\n  }\r\n}\r\n\r\nexport function convertFileToBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = reject;\r\n  });\r\n}\r\n\r\n\r\nconst _cutNumber = (number) => {\r\n  const num = number.toString()\r\n  if(num.length > 3) {\r\n    let count = 0\r\n    let arr = []\r\n    for(let i = num.length - 1; i >= 0; i--) {\r\n      count++\r\n      if(count === 3) {\r\n        const str = num[i] + num[i+1] + num[i+2]\r\n        arr.push(str)\r\n        count = 0;\r\n      }\r\n      if(i === 0) {\r\n        if(count === 2) {\r\n          const str = num[i] + num[i+1]\r\n          arr.push(str)\r\n        } else if(count === 1) {\r\n          const str = num[i]\r\n          arr.push(str)\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    console.log(arr)\r\n    return arr.reverse().join(',')\r\n  } else {\r\n    return num;\r\n  }\r\n}\r\n\r\nexport function formatDot(number) {\r\n  if (!number) {\r\n    return ''\r\n  }\r\n  return _cutNumber(number)\r\n}\r\n\r\nexport function formatVND(number) {\r\n  if (!number) {\r\n    return ''\r\n  }\r\n  if (typeof number === 'number') {\r\n    return _cutNumber(number)\r\n  }\r\n\r\n  if(typeof number === 'string') {\r\n    let arrValue = number.split('.')\r\n    let formatedValue = _cutNumber(arrValue[0]);\r\n    return `${formatedValue}.${arrValue[1]}`;\r\n  }\r\n}","export const HOST = process.env.REACT_APP_API_URL || \"https://cdn-dev.kiemdinhoto.vn/\"\r\n\r\nexport const IMAGE_HOST = HOST + 'upload/'","// @ts-nocheck\r\nimport axios from 'axios'\r\nimport { HOST } from './../constants/url'\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  getQueryString,\r\n} from '../helper/common'\r\n\r\nfunction send({\r\n  method = 'get', path, data = null, query = null, headers = {}, newUrl\r\n}) {\r\n  return new Promise((resolve) => {\r\n    let url = HOST + `${path}${getQueryString(query)}`\r\n    if (newUrl) {\r\n      url = `${newUrl}${getQueryString(query)}`\r\n    }\r\n    let token = window.localStorage.getItem('accessToken')\r\n    \r\n    if (token) {\r\n      const newToken = token.replace(/\"/g, \"\");\r\n      headers.Authorization =`Bearer ${newToken}`\r\n    }\r\n    axios({\r\n      method, url, data, headers,\r\n    })\r\n      .then((result) => {\r\n        const data = result.data\r\n        return resolve(data)\r\n      })\r\n      .catch((error) => {\r\n        const {response ={}} = error\r\n        \r\n        const result = response.data ? response.data :null\r\n         \r\n        if (!result) {\r\n          toast.warn(\"Error from server\")\r\n        }\r\n        else {\r\n          const { statusCode, message: data } = result\r\n          if(statusCode === 505){\r\n            toast.warn(\"Unauthorized\")\r\n          }\r\n          else if (\r\n            (statusCode === 413 && data === 'Payload content length greater than maximum allowed: 10485760')) {\r\n            toast.warn(\"Image too large\")\r\n          }\r\n         else if (statusCode === 401 && data === 'Expired token received for JSON Web Token validation') {\r\n            window.localStorage.clear()\r\n            window.location.href = '/'\r\n           \r\n          }\r\n          else if (\r\n            (statusCode === 401 && data === 'Unauthorized') || (statusCode === 403 && data === 'InvalidToken')) {\r\n              window.localStorage.clear()\r\n              window.location.href = '/'\r\n            \r\n          } else {\r\n            return resolve(result.data)\r\n          }\r\n        }\r\n      })\r\n  })\r\n}\r\n\r\nexport default {\r\n  send,\r\n}\r\n","import React from 'react'\r\nimport './mySwitch.scss'\r\nexport default function MySwitch({\r\n  onChange,\r\n  checked,\r\n  disabled\r\n}) {\r\n  return (\r\n    <label className=\"switch\">\r\n      <input\r\n        type=\"checkbox\"\r\n        checked={checked}\r\n        onChange={onChange}\r\n        disabled={disabled}\r\n      />\r\n      <span className=\"slider round\"></span>\r\n    </label>\r\n  )\r\n}","// @ts-nocheck\r\n// ** React Imports\r\nimport { Fragment, useState, useEffect, memo } from \"react\";\r\n// ** Store & Actions\r\nimport { toast } from \"react-toastify\";\r\nimport _ from \"lodash\";\r\nimport \"./index.scss\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport \"@styles/react/libs/tables/react-dataTable-component.scss\";\r\nimport Service from \"../../../services/request\";\r\nimport \"uppy/dist/uppy.css\";\r\nimport \"@uppy/status-bar/dist/style.css\";\r\nimport \"@styles/react/libs/file-uploader/file-uploader.scss\";\r\nimport {\r\n  Card,\r\n  Input,\r\n  Label,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  FormGroup,\r\n  Form,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n} from \"reactstrap\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { injectIntl } from \"react-intl\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport MySwitch from \"../../components/switch/index\";\r\nimport { ChevronLeft } from \"react-feather\";\r\n\r\nconst FormSMS = ({ intl }) => {\r\n  // ** Store Vars\r\n  const { state } = useLocation();\r\n  const [userData, setUserData] = useState({});\r\n  const [useUserSMSBrandConfig, setUseUserSMSBrandConfig] = useState(0);\r\n  const [stationEnableUseSMS, setStationEnableUseSMS] = useState(0);\r\n  const [isOpenModalTestSMS, setIsOpenModalTestSMS] = useState(false);\r\n  const [smsType, setSmsType] = useState(userData.smsProvider || \"\");\r\n  const history = useHistory();\r\n  const { register, errors, handleSubmit } = useForm({\r\n    defaultValues: {},\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (state && Object.keys(state).length > 0) {\r\n      setUserData(\r\n        state.stationCustomSMSBrandConfig\r\n          ? JSON.parse(state.stationCustomSMSBrandConfig)\r\n          : {}\r\n      );\r\n      setStationEnableUseSMS(state.stationEnableUseSMS);\r\n      setUseUserSMSBrandConfig(state.stationUseCustomSMSBrand);\r\n    }\r\n  }, [state]);\r\n\r\n  function handleUpdateData(data) {\r\n    if (stationEnableUseSMS === 1 && useUserSMSBrandConfig === 1) {\r\n      if (Object.keys(errors).length === 0) {\r\n        const params = {\r\n          stationsId: state.stationsId,\r\n          smsUrl: data.smsUrl,\r\n          smsUserName: data.smsUserName,\r\n          smsPassword: data.smsPassword,\r\n          smsBrand: data.smsBrand,\r\n          smsCPCode: data.smsCPCode,\r\n          smsServiceId: data.smsServiceId,\r\n          smsProvider: smsType,\r\n        };\r\n        Service.send({\r\n          method: \"POST\",\r\n          path: \"Stations/updateConfigSMS\",\r\n          data: params,\r\n          query: null,\r\n        }).then((res) => {\r\n          if (res) {\r\n            const { statusCode } = res;\r\n            if (statusCode === 200) {\r\n              toast.success(\r\n                intl.formatMessage(\r\n                  { id: \"actionSuccess\" },\r\n                  { action: intl.formatMessage({ id: \"update\" }) }\r\n                )\r\n              );\r\n              setTimeout(() => {\r\n                history.push(\"/pages/station\");\r\n              }, 1000);\r\n            } else {\r\n              toast.warn(\r\n                intl.formatMessage(\r\n                  { id: \"actionFailed\" },\r\n                  { action: intl.formatMessage({ id: \"update\" }) }\r\n                )\r\n              );\r\n            }\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      toast.success(\r\n        intl.formatMessage(\r\n          { id: \"actionSuccess\" },\r\n          { action: intl.formatMessage({ id: \"update\" }) }\r\n        )\r\n      );\r\n      setTimeout(() => {\r\n        history.push(\"/pages/station\");\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  const handleOnchange = (name, value) => {\r\n    setUserData({\r\n      ...userData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const onChangeUseCustomSMSBrand = (newValue) => {\r\n    Service.send({\r\n      method: \"POST\",\r\n      path: \"Stations/updateCustomSMSBrand\",\r\n      data: {\r\n        stationsId: state.stationsId,\r\n        stationUseCustomSMSBrand: newValue,\r\n      },\r\n      query: null,\r\n    }).then((res) => {\r\n      if (res) {\r\n        const { statusCode } = res;\r\n        if (statusCode === 200) {\r\n          setUseUserSMSBrandConfig(newValue);\r\n        } else {\r\n          toast.warn(\r\n            intl.formatMessage(\r\n              { id: \"actionFailed\" },\r\n              { action: intl.formatMessage({ id: \"update\" }) }\r\n            )\r\n          );\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const onUpdateStationEnableUseSMS = (newValue) => {\r\n    Service.send({\r\n      method: \"POST\",\r\n      path: \"Stations/updateById\",\r\n      data: {\r\n        id: state.stationsId,\r\n        data: {\r\n          stationEnableUseSMS: newValue,\r\n        },\r\n      },\r\n      query: null,\r\n    }).then((res) => {\r\n      if (res) {\r\n        const { statusCode } = res;\r\n        if (statusCode === 200) {\r\n          setStationEnableUseSMS(newValue);\r\n        } else {\r\n          toast.warn(\r\n            intl.formatMessage(\r\n              { id: \"actionFailed\" },\r\n              { action: intl.formatMessage({ id: \"update\" }) }\r\n            )\r\n          );\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  function handleSelectSMSType(e) {\r\n    const { value } = e.target;\r\n    let newValue = userData;\r\n    setUserData(newValue);\r\n    setSmsType(value);\r\n    handleChange();\r\n  }\r\n\r\n  function handleSendTestSMS(value) {\r\n    const params = {\r\n      phoneNumber: value,\r\n      smsConfig: {\r\n        smsUrl: userData.smsUrl,\r\n        smsUserName: userData.smsUserName,\r\n        smsPassword: userData.smsPassword,\r\n        smsCPCode: userData.smsCPCode,\r\n        smsServiceId: userData.smsServiceId,\r\n        smsBrand: userData.smsBrand,\r\n        smsProvider: smsType,\r\n      },\r\n    };\r\n    // if (smsType === \"\") {\r\n    //   params.smsConfig.smsProvider = userData.smsProvider;\r\n    // }\r\n    switch (smsType) {\r\n      case \"\":\r\n        params.smsConfig.smsProvider = userData.smsProvider;\r\n        break;\r\n      case \"VIETTEL\":\r\n        params.smsConfig.smsBrand = undefined;\r\n        break;\r\n      case \"VIVAS\":\r\n        params.smsConfig.smsServiceId = undefined;\r\n        params.smsConfig.smsCPCode = undefined;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    Service.send({\r\n      method: \"POST\",\r\n      path: \"CustomerMessage/sendTestSMS\",\r\n      data: params,\r\n    }).then((result) => {\r\n      if (result && result.statusCode === 200) {\r\n        toast.success(intl.formatMessage({ id: \"sent\" }, { type: \"\" }));\r\n        setIsOpenModalTestSMS(false);\r\n      } else {\r\n        toast.error(\r\n          intl.formatMessage({ id: \"sendSMSTestFailed\" }, { type: \"\" })\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  const handleChange = () => {\r\n    switch (userData.smsProvider && smsType) {\r\n      case \"VIETTEL\":\r\n        return (\r\n          <>\r\n            <FormGroup row>\r\n              <Label sm=\"3\" for=\"smsCPCode\">\r\n                {intl.formatMessage({ id: \"smsCPCode\" })}\r\n              </Label>\r\n\r\n              <Col sm=\"5\">\r\n                <Input\r\n                  name=\"smsCPCode\"\r\n                  id=\"smsCPCode\"\r\n                  disabled={\r\n                    useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1\r\n                      ? false\r\n                      : true\r\n                  }\r\n                  innerRef={register({\r\n                    required:\r\n                      useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1\r\n                        ? true\r\n                        : false,\r\n                  })}\r\n                  invalid={errors.smsCPCode && true}\r\n                  value={(userData && userData.smsCPCode) || \"\"}\r\n                  placeholder={intl.formatMessage({ id: \"smsCPCode\" })}\r\n                  onChange={(e) => {\r\n                    const { name, value } = e.target;\r\n                    handleOnchange(name, value);\r\n                  }}\r\n                />\r\n              </Col>\r\n              <Col sm=\"4\">\r\n                <i>Ví dụ: abc-123</i>\r\n              </Col>\r\n            </FormGroup>\r\n\r\n            <FormGroup row>\r\n              <Label sm=\"3\" for=\"smsServiceId\">\r\n                {intl.formatMessage({ id: \"smsServiceId\" })}\r\n              </Label>\r\n\r\n              <Col sm=\"5\">\r\n                <Input\r\n                  name=\"smsServiceId\"\r\n                  id=\"smsServiceId\"\r\n                  disabled={\r\n                    useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1\r\n                      ? false\r\n                      : true\r\n                  }\r\n                  innerRef={register({\r\n                    required:\r\n                      useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1\r\n                        ? true\r\n                        : false,\r\n                  })}\r\n                  invalid={errors.smsServiceId && true}\r\n                  value={(userData && userData.smsServiceId) || \"\"}\r\n                  placeholder={intl.formatMessage({ id: \"smsServiceId\" })}\r\n                  onChange={(e) => {\r\n                    const { name, value } = e.target;\r\n                    handleOnchange(name, value);\r\n                  }}\r\n                />\r\n              </Col>\r\n              <Col sm=\"4\">\r\n                <i>Ví dụ: ...abc123</i>\r\n              </Col>\r\n            </FormGroup>\r\n          </>\r\n        );\r\n      case \"VIVAS\":\r\n        return (\r\n          <FormGroup row>\r\n            <Label sm=\"3\" for=\"smsBrand\">\r\n              {intl.formatMessage({ id: \"smsBrand\" })}\r\n            </Label>\r\n\r\n            <Col sm=\"5\">\r\n              <Input\r\n                name=\"smsBrand\"\r\n                id=\"smsBrand\"\r\n                disabled={\r\n                  useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1\r\n                    ? false\r\n                    : true\r\n                }\r\n                innerRef={register({\r\n                  required:\r\n                    useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1\r\n                      ? true\r\n                      : false,\r\n                })}\r\n                invalid={errors.smsBrand && true}\r\n                value={(userData && userData.smsBrand) || \"\"}\r\n                placeholder={intl.formatMessage({ id: \"smsBrand\" })}\r\n                onChange={(e) => {\r\n                  const { name, value } = e.target;\r\n                  handleOnchange(name, value);\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col sm=\"4\">\r\n              <i>Ví dụ: KiemDinhOto</i>\r\n            </Col>\r\n          </FormGroup>\r\n        );\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Card>\r\n        <div className=\"pt-1 pl-1 pointer\" onClick={history.goBack}>\r\n          <ChevronLeft />\r\n          {intl.formatMessage({ id: \"goBack\" })}\r\n        </div>\r\n        <div className=\"accountAdmin\">\r\n          <h1 className=\"accountAdmin__title\">\r\n            {intl.formatMessage({ id: \"info\" }, { type: \"SMS\" }).toUpperCase()}\r\n          </h1>\r\n          <Row>\r\n            <Col sm=\"12\" md=\"8\">\r\n              <Form\r\n                onSubmit={handleSubmit((data) => {\r\n                  handleUpdateData({\r\n                    ...data,\r\n                  });\r\n                })}\r\n              >\r\n                <FormGroup row>\r\n                  <Label sm=\"3\" for=\"smsUrl\">\r\n                    SMS Enable\r\n                  </Label>\r\n                  <Col sm=\"9\">\r\n                    <MySwitch\r\n                      checked={stationEnableUseSMS === 1 ? true : false}\r\n                      onChange={(e) => {\r\n                        onUpdateStationEnableUseSMS(e.target.checked ? 1 : 0);\r\n                      }}\r\n                    />\r\n                  </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup row>\r\n                  <Label sm=\"3\" for=\"smsProvider\">\r\n                    {intl.formatMessage({ id: \"supplier\" }, { type: \"SMS\" })}\r\n                  </Label>\r\n\r\n                  <Col sm=\"5\">\r\n                    <Input\r\n                      className=\"w-100\"\r\n                      id=\"smsProvider\"\r\n                      type=\"select\"\r\n                      invalid={errors.smsProvider && true}\r\n                      innerRef={register({ required: true })}\r\n                      name=\"smsProvider\"\r\n                      bsSize=\"sm\"\r\n                      value={smsType || userData.smsProvider}\r\n                      onChange={handleSelectSMSType}\r\n                      disabled={stationEnableUseSMS === 1 ? false : true}\r\n                    >\r\n                      <option value=\"\">\r\n                        {intl.formatMessage({ id: \"selectService\" })}\r\n                      </option>\r\n                      <option value=\"VIETTEL\">Viettel</option>\r\n                      <option value=\"VIVAS\">Vivas</option>\r\n                    </Input>\r\n                  </Col>\r\n                  <Col sm=\"4\" />\r\n                </FormGroup>\r\n\r\n                <div className=\"row\">\r\n                  <Label sm=\"3\">\r\n                    {intl.formatMessage(\r\n                      { id: \"stationUseCustomSMSBrand\" },\r\n                      { type: \"SMS Brandname\" }\r\n                    )}\r\n                  </Label>\r\n\r\n                  <Col sm=\"9\">\r\n                    <MySwitch\r\n                      checked={useUserSMSBrandConfig === 1 ? true : false}\r\n                      onChange={(e) => {\r\n                        onChangeUseCustomSMSBrand(e.target.checked ? 1 : 0);\r\n                      }}\r\n                      disabled={stationEnableUseSMS === 1 ? false : true}\r\n                    />\r\n                  </Col>\r\n                </div>\r\n\r\n                <FormGroup row className=\"mt-1\">\r\n                  <Label sm=\"3\" for=\"smsUrl\">\r\n                    SMS Url\r\n                  </Label>\r\n                  <Col sm=\"5\">\r\n                    <Input\r\n                      id=\"smsUrl\"\r\n                      name=\"smsUrl\"\r\n                      disabled={\r\n                        useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1\r\n                          ? false\r\n                          : true\r\n                      }\r\n                      innerRef={register({\r\n                        required:\r\n                          useUserSMSBrandConfig === 1 &&\r\n                          stationEnableUseSMS === 1\r\n                            ? true\r\n                            : false,\r\n                      })}\r\n                      invalid={errors.smsUrl && true}\r\n                      placeholder=\"SMS Url\"\r\n                      value={(userData && userData.smsUrl) || \"\"}\r\n                      onChange={(e) => {\r\n                        const { name, value } = e.target;\r\n                        handleOnchange(name, value);\r\n                      }}\r\n                    />\r\n                  </Col>\r\n                  <Col sm=\"4\">\r\n                    <i>Ví dụ: https://example.vn/SMS</i>\r\n                  </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup row>\r\n                  <Label sm=\"3\" for=\"smsUserName\">\r\n                    {intl.formatMessage({ id: \"smsUsername\" }, { type: \"SMS\" })}\r\n                  </Label>\r\n\r\n                  <Col sm=\"5\">\r\n                    <Input\r\n                      id=\"smsUserName\"\r\n                      name=\"smsUserName\"\r\n                      disabled={\r\n                        useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1\r\n                          ? false\r\n                          : true\r\n                      }\r\n                      innerRef={register({\r\n                        required:\r\n                          useUserSMSBrandConfig === 1 &&\r\n                          stationEnableUseSMS === 1\r\n                            ? true\r\n                            : false,\r\n                      })}\r\n                      invalid={errors.smsUserName && true}\r\n                      placeholder={intl.formatMessage(\r\n                        { id: \"smsUsername\" },\r\n                        { type: \"SMS\" }\r\n                      )}\r\n                      value={(userData && userData.smsUserName) || \"\"}\r\n                      onChange={(e) => {\r\n                        const { name, value } = e.target;\r\n                        handleOnchange(name, value);\r\n                      }}\r\n                    />\r\n                  </Col>\r\n                  <Col sm=\"4\">\r\n                    <i>Ví dụ: example123</i>\r\n                  </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup row>\r\n                  <Label sm=\"3\" for=\"smsPassword\">\r\n                    {intl.formatMessage({ id: \"smsPassword\" }, { type: \"SMS\" })}\r\n                  </Label>\r\n\r\n                  <Col sm=\"5\">\r\n                    <Input\r\n                      name=\"smsPassword\"\r\n                      id=\"smsPassword\"\r\n                      disabled={\r\n                        useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1\r\n                          ? false\r\n                          : true\r\n                      }\r\n                      innerRef={register({\r\n                        required:\r\n                          useUserSMSBrandConfig === 1 &&\r\n                          stationEnableUseSMS === 1\r\n                            ? true\r\n                            : false,\r\n                      })}\r\n                      invalid={errors.smsPassword && true}\r\n                      value={(userData && userData.smsPassword) || \"\"}\r\n                      placeholder={intl.formatMessage(\r\n                        { id: \"smsPassword\" },\r\n                        { type: \"SMS\" }\r\n                      )}\r\n                      onChange={(e) => {\r\n                        const { name, value } = e.target;\r\n                        handleOnchange(name, value);\r\n                      }}\r\n                    />\r\n                  </Col>\r\n                  <Col sm=\"4\">\r\n                    <i>Ví dụ: ...abc123</i>\r\n                  </Col>\r\n                </FormGroup>\r\n                {handleChange()}\r\n                {userData.smsProvider === \"VIETTEL\" && smsType === \"\" && (\r\n                  <>\r\n                    <FormGroup row>\r\n                      <Label sm=\"3\" for=\"smsCPCode\">\r\n                        {intl.formatMessage({ id: \"smsCPCode\" })}\r\n                      </Label>\r\n\r\n                      <Col sm=\"5\">\r\n                        <Input\r\n                          name=\"smsCPCode\"\r\n                          id=\"smsCPCode\"\r\n                          disabled={\r\n                            useUserSMSBrandConfig === 1 &&\r\n                            stationEnableUseSMS === 1\r\n                              ? false\r\n                              : true\r\n                          }\r\n                          innerRef={register({\r\n                            required:\r\n                              useUserSMSBrandConfig === 1 &&\r\n                              stationEnableUseSMS === 1\r\n                                ? true\r\n                                : false,\r\n                          })}\r\n                          invalid={errors.smsCPCode && true}\r\n                          value={(userData && userData.smsCPCode) || \"\"}\r\n                          placeholder={intl.formatMessage({ id: \"smsCPCode\" })}\r\n                          onChange={(e) => {\r\n                            const { name, value } = e.target;\r\n                            handleOnchange(name, value);\r\n                          }}\r\n                        />\r\n                      </Col>\r\n                      <Col sm=\"4\">\r\n                        <i>Ví dụ: abc-123</i>\r\n                      </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup row>\r\n                      <Label sm=\"3\" for=\"smsServiceId\">\r\n                        {intl.formatMessage({ id: \"smsServiceId\" })}\r\n                      </Label>\r\n\r\n                      <Col sm=\"5\">\r\n                        <Input\r\n                          name=\"smsServiceId\"\r\n                          id=\"smsServiceId\"\r\n                          disabled={\r\n                            useUserSMSBrandConfig === 1 &&\r\n                            stationEnableUseSMS === 1\r\n                              ? false\r\n                              : true\r\n                          }\r\n                          innerRef={register({\r\n                            required:\r\n                              useUserSMSBrandConfig === 1 &&\r\n                              stationEnableUseSMS === 1\r\n                                ? true\r\n                                : false,\r\n                          })}\r\n                          invalid={errors.smsServiceId && true}\r\n                          value={(userData && userData.smsServiceId) || \"\"}\r\n                          placeholder={intl.formatMessage({\r\n                            id: \"smsServiceId\",\r\n                          })}\r\n                          onChange={(e) => {\r\n                            const { name, value } = e.target;\r\n                            handleOnchange(name, value);\r\n                          }}\r\n                        />\r\n                      </Col>\r\n                      <Col sm=\"4\">\r\n                        <i>Ví dụ: ...abc123</i>\r\n                      </Col>\r\n                    </FormGroup>\r\n                  </>\r\n                )}\r\n                {userData.smsProvider === undefined && smsType === \"VIETTEL\" && (\r\n                  <>\r\n                    <FormGroup row>\r\n                      <Label sm=\"3\" for=\"smsCPCode\">\r\n                        {intl.formatMessage({ id: \"smsCPCode\" })}\r\n                      </Label>\r\n\r\n                      <Col sm=\"5\">\r\n                        <Input\r\n                          name=\"smsCPCode\"\r\n                          id=\"smsCPCode\"\r\n                          disabled={\r\n                            useUserSMSBrandConfig === 1 &&\r\n                            stationEnableUseSMS === 1\r\n                              ? false\r\n                              : true\r\n                          }\r\n                          innerRef={register({\r\n                            required:\r\n                              useUserSMSBrandConfig === 1 &&\r\n                              stationEnableUseSMS === 1\r\n                                ? true\r\n                                : false,\r\n                          })}\r\n                          invalid={errors.smsCPCode && true}\r\n                          value={(userData && userData.smsCPCode) || \"\"}\r\n                          placeholder={intl.formatMessage({ id: \"smsCPCode\" })}\r\n                          onChange={(e) => {\r\n                            const { name, value } = e.target;\r\n                            handleOnchange(name, value);\r\n                          }}\r\n                        />\r\n                      </Col>\r\n                      <Col sm=\"4\">\r\n                        <i>Ví dụ: abc-123</i>\r\n                      </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup row>\r\n                      <Label sm=\"3\" for=\"smsServiceId\">\r\n                        {intl.formatMessage({ id: \"smsServiceId\" })}\r\n                      </Label>\r\n\r\n                      <Col sm=\"5\">\r\n                        <Input\r\n                          name=\"smsServiceId\"\r\n                          id=\"smsServiceId\"\r\n                          disabled={\r\n                            useUserSMSBrandConfig === 1 &&\r\n                            stationEnableUseSMS === 1\r\n                              ? false\r\n                              : true\r\n                          }\r\n                          innerRef={register({\r\n                            required:\r\n                              useUserSMSBrandConfig === 1 &&\r\n                              stationEnableUseSMS === 1\r\n                                ? true\r\n                                : false,\r\n                          })}\r\n                          invalid={errors.smsServiceId && true}\r\n                          value={(userData && userData.smsServiceId) || \"\"}\r\n                          placeholder={intl.formatMessage({\r\n                            id: \"smsServiceId\",\r\n                          })}\r\n                          onChange={(e) => {\r\n                            const { name, value } = e.target;\r\n                            handleOnchange(name, value);\r\n                          }}\r\n                        />\r\n                      </Col>\r\n                      <Col sm=\"4\">\r\n                        <i>Ví dụ: ...abc123</i>\r\n                      </Col>\r\n                    </FormGroup>\r\n                  </>\r\n                )}\r\n                {userData.smsProvider === \"VIVAS\" && smsType === \"\" && (\r\n                  <>\r\n                    <FormGroup row>\r\n                      <Label sm=\"3\" for=\"smsBrand\">\r\n                        {intl.formatMessage({ id: \"smsBrand\" })}\r\n                      </Label>\r\n\r\n                      <Col sm=\"5\">\r\n                        <Input\r\n                          name=\"smsBrand\"\r\n                          id=\"smsBrand\"\r\n                          disabled={\r\n                            useUserSMSBrandConfig === 1 &&\r\n                            stationEnableUseSMS === 1\r\n                              ? false\r\n                              : true\r\n                          }\r\n                          innerRef={register({\r\n                            required:\r\n                              useUserSMSBrandConfig === 1 &&\r\n                              stationEnableUseSMS === 1\r\n                                ? true\r\n                                : false,\r\n                          })}\r\n                          invalid={errors.smsBrand && true}\r\n                          value={(userData && userData.smsBrand) || \"\"}\r\n                          placeholder={intl.formatMessage({ id: \"smsBrand\" })}\r\n                          onChange={(e) => {\r\n                            const { name, value } = e.target;\r\n                            handleOnchange(name, value);\r\n                          }}\r\n                        />\r\n                      </Col>\r\n                      <Col sm=\"4\">\r\n                        <i>Ví dụ: KiemDinhOto</i>\r\n                      </Col>\r\n                    </FormGroup>\r\n                  </>\r\n                )}\r\n                {userData.smsProvider === undefined && smsType === \"VIVAS\" && (\r\n                  <>\r\n                    <FormGroup row>\r\n                      <Label sm=\"3\" for=\"smsBrand\">\r\n                        {intl.formatMessage({ id: \"smsBrand\" })}\r\n                      </Label>\r\n\r\n                      <Col sm=\"5\">\r\n                        <Input\r\n                          name=\"smsBrand\"\r\n                          id=\"smsBrand\"\r\n                          disabled={\r\n                            useUserSMSBrandConfig === 1 &&\r\n                            stationEnableUseSMS === 1\r\n                              ? false\r\n                              : true\r\n                          }\r\n                          innerRef={register({\r\n                            required:\r\n                              useUserSMSBrandConfig === 1 &&\r\n                              stationEnableUseSMS === 1\r\n                                ? true\r\n                                : false,\r\n                          })}\r\n                          invalid={errors.smsBrand && true}\r\n                          value={(userData && userData.smsBrand) || \"\"}\r\n                          placeholder={intl.formatMessage({ id: \"smsBrand\" })}\r\n                          onChange={(e) => {\r\n                            const { name, value } = e.target;\r\n                            handleOnchange(name, value);\r\n                          }}\r\n                        />\r\n                      </Col>\r\n                      <Col sm=\"4\">\r\n                        <i>Ví dụ: KiemDinhOto</i>\r\n                      </Col>\r\n                    </FormGroup>\r\n                  </>\r\n                )}\r\n                <div className=\"row m-0 mt-3\">\r\n                  <FormGroup className=\"p-0 col-12 col-sm-3\">\r\n                    <Button.Ripple\r\n                      className=\"w-100\"\r\n                      color=\"primary\"\r\n                      type=\"submit\"\r\n                    >\r\n                      {intl.formatMessage({ id: \"submit\" })}\r\n                    </Button.Ripple>\r\n                  </FormGroup>\r\n                  <div className=\"col-1\" />\r\n                  {useUserSMSBrandConfig === 1 && stationEnableUseSMS === 1 && (\r\n                    <FormGroup className=\"col-12 col-sm-3 p-0\">\r\n                      <Button.Ripple\r\n                        className=\"w-100\"\r\n                        color=\"primary\"\r\n                        onClick={() => setIsOpenModalTestSMS(true)}\r\n                      >\r\n                        Test SMS\r\n                      </Button.Ripple>\r\n                    </FormGroup>\r\n                  )}\r\n                </div>\r\n              </Form>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </Card>\r\n\r\n      <Modal\r\n        isOpen={isOpenModalTestSMS}\r\n        toggle={() => setIsOpenModalTestSMS(!isOpenModalTestSMS)}\r\n      >\r\n        <Form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            const input = document.getElementById(\"testSMS\");\r\n            if (input.value) {\r\n              handleSendTestSMS(input.value);\r\n            }\r\n          }}\r\n        >\r\n          <ModalHeader\r\n            toggle={() => setIsOpenModalTestSMS(!isOpenModalTestSMS)}\r\n          >\r\n            {intl.formatMessage({ id: \"checkSMS\" })}\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <label htmlFor=\"testSMS\">\r\n              {intl.formatMessage({ id: \"enterPhoneSendSMS\" })}\r\n            </label>\r\n            <FormGroup>\r\n              <Input\r\n                name=\"testSMS\"\r\n                id=\"testSMS\"\r\n                placeholder=\"Nhập SĐT\"\r\n                type=\"SMS\"\r\n                required\r\n              />\r\n            </FormGroup>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <FormGroup>\r\n              <Button color=\"primary\" type=\"submit\">\r\n                {intl.formatMessage({ id: \"send\" })}\r\n              </Button>\r\n            </FormGroup>\r\n          </ModalFooter>\r\n        </Form>\r\n      </Modal>\r\n    </Fragment>\r\n  );\r\n};\r\nexport default injectIntl(memo(FormSMS));\r\n"],"sourceRoot":""}