(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[5],{452:function(e,a,n){"use strict";n.d(a,"b",(function(){return s})),n.d(a,"c",(function(){return o})),n.d(a,"a",(function(){return i}));var t=n(460),r=n.n(t),s=function(e){var a=r.a.stringify(e);return a?"?".concat(a):""};function o(e,a,n){var t=new Image;t.crossOrigin="Anonymous",t.onload=function(){var e,t=document.createElement("CANVAS"),r=t.getContext("2d");t.height=this.naturalHeight,t.width=this.naturalWidth,r.drawImage(this,0,0),e=t.toDataURL(n),a(e)},t.src=e,(t.complete||void 0===t.complete)&&(t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",t.src=e)}function i(e){return new Promise((function(a,n){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){return a(t.result)},t.onerror=n}))}},453:function(e,a,n){"use strict";var t=n(78),r=n.n(t),s="https://cdn.kiemdinhoto.vn/",o=n(116),i=n(452);a.a={send:function(e){var a=e.method,n=void 0===a?"get":a,t=e.path,c=e.data,d=void 0===c?null:c,u=e.query,l=void 0===u?null:u,f=e.headers,w=void 0===f?{}:f,m=e.newUrl;return new Promise((function(e){var a=s+"".concat(t).concat(Object(i.b)(l));m&&(a="".concat(m).concat(Object(i.b)(l)));var c=window.localStorage.getItem("accessToken");if(c){var u=c.replace(/"/g,"");w.Authorization="Bearer ".concat(u)}r()({method:n,url:a,data:d,headers:w}).then((function(a){var n=a.data;return e(n)})).catch((function(a){var n=a.response,t=void 0===n?{}:n,r=t.data?t.data:null;if(r){var s=r.statusCode,i=r.message;if(505===s)o.c.warn("Unauthorized");else if(413===s&&"Payload content length greater than maximum allowed: 1048576"===i)o.c.warn("Image too large");else if(401===s&&"Expired token received for JSON Web Token validation"===i)window.localStorage.clear(),window.location.href="/";else{if(!(401===s&&"Unauthorized"===i||403===s&&"InvalidToken"===i))return e(r.data);window.localStorage.clear(),window.location.href="/"}}else o.c.warn("Error from server")}))}))}}},942:function(e,a,n){},969:function(e,a,n){"use strict";n.r(a);var t=n(1),r=n(16),s=n(0),o=n(466),i=n(930),c=n(948),d=n(961),u=n(663),l=n(447),f=n(464),w=n(453),m=n(116),h=(n(942),n(118)),g=n.n(h),b=n(126),v=n(6);a.default=Object(b.c)((function(e){var a=e.intl,n=Object(s.useState)({username:"",password:"",newPassword:""}),h=Object(r.a)(n,2),b=h[0],j=h[1],p=b.username,O=b.password,A=b.newPassword,x=Object(o.a)(),P=x.register,y=x.errors,M=x.handleSubmit;return Object(v.jsx)("main",{className:"change_password d-flex justify-content-center",children:Object(v.jsx)("div",{className:"change_password__container",children:Object(v.jsxs)(i.a,{onSubmit:M((function(e){Object(f.b)(y)&&w.a.send({method:"post",path:"Staff/changePasswordStaff",data:e}).then((function(e){e?200===e.statusCode&&m.c.success(a.formatMessage({id:"actionSuccess"},{action:a.formatMessage({id:"changePass"})}),{transition:m.a,autoClose:2e3}):m.c.error(a.formatMessage({id:"actionFailed"},{action:a.formatMessage({id:"changePass"})}))}))})),children:[Object(v.jsxs)(c.a,{children:[Object(v.jsx)(d.a,{for:"username",children:a.formatMessage({id:"username"})}),Object(v.jsx)(u.a,{name:"username",id:"username",value:p,onChange:function(e){return j(Object(t.a)(Object(t.a)({},b),{},{username:e.target.value}))},placeholder:a.formatMessage({id:"username"}),className:g()({"is-invalid":y.username}),innerRef:P({required:!0,validate:function(e){return""!==e}})})]}),Object(v.jsxs)(c.a,{children:[Object(v.jsx)(d.a,{for:"password",children:a.formatMessage({id:"password"})}),Object(v.jsx)(u.a,{name:"password",id:"password",type:"password",value:O,placeholder:a.formatMessage({id:"password"}),onChange:function(e){return j(Object(t.a)(Object(t.a)({},b),{},{password:e.target.value}))},className:g()({"is-invalid":y.password}),innerRef:P({required:!0,validate:function(e){return""!==e}})})]}),Object(v.jsxs)(c.a,{children:[Object(v.jsx)(d.a,{for:"newPassword",children:a.formatMessage({id:"newPassword"})}),Object(v.jsx)(u.a,{name:"newPassword",id:"newPassword",type:"password",placeholder:a.formatMessage({id:"newPassword"}),value:A,onChange:function(e){return j(Object(t.a)(Object(t.a)({},b),{},{newPassword:e.target.value}))},className:g()({"is-invalid":y.newPassword}),innerRef:P({required:!0,validate:function(e){return""!==e}})})]}),Object(v.jsx)(l.a.Ripple,{type:"submit",color:"primary",block:!0,children:a.formatMessage({id:"submit"})})]})})})}))}}]);
//# sourceMappingURL=5.b54a8e8d.chunk.js.map