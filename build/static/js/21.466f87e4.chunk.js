(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[21],{452:function(e,a,t){"use strict";t.d(a,"b",(function(){return r})),t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return i}));var s=t(460),n=t.n(s),r=function(e){var a=n.a.stringify(e);return a?"?".concat(a):""};function c(e,a,t){var s=new Image;s.crossOrigin="Anonymous",s.onload=function(){var e,s=document.createElement("CANVAS"),n=s.getContext("2d");s.height=this.naturalHeight,s.width=this.naturalWidth,n.drawImage(this,0,0),e=s.toDataURL(t),a(e)},s.src=e,(s.complete||void 0===s.complete)&&(s.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",s.src=e)}function i(e){return new Promise((function(a,t){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){return a(s.result)},s.onerror=t}))}},453:function(e,a,t){"use strict";var s=t(78),n=t.n(s),r="https://cdn.kiemdinhoto.vn/",c=t(116),i=t(452);a.a={send:function(e){var a=e.method,t=void 0===a?"get":a,s=e.path,o=e.data,d=void 0===o?null:o,l=e.query,m=void 0===l?null:l,u=e.headers,j=void 0===u?{}:u,h=e.newUrl;return new Promise((function(e){var a=r+"".concat(s).concat(Object(i.b)(m));h&&(a="".concat(h).concat(Object(i.b)(m)));var o=window.localStorage.getItem("accessToken");if(o){var l=o.replace(/"/g,"");j.Authorization="Bearer ".concat(l)}n()({method:t,url:a,data:d,headers:j}).then((function(a){var t=a.data;return e(t)})).catch((function(a){var t=a.response,s=void 0===t?{}:t,n=s.data?s.data:null;if(n){var r=n.statusCode,i=n.message;if(505===r)c.c.warn("Unauthorized");else if(401===r&&"Expired token received for JSON Web Token validation"===i)window.localStorage.clear(),window.location.href="/";else{if(!(401===r&&"Unauthorized"===i||403===r&&"InvalidToken"===i))return e(n.data);window.localStorage.clear(),window.location.href="/"}}else c.c.warn("Error from server")}))}))}}},458:function(e,a,t){},472:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));t(0),t(473);var s=t(6);function n(e){var a=e.onChange,t=e.checked,n=e.disabled;return Object(s.jsxs)("label",{className:"switch",children:[Object(s.jsx)("input",{type:"checkbox",checked:t,onChange:a,disabled:n}),Object(s.jsx)("span",{className:"slider round"})]})}},473:function(e,a,t){},502:function(e,a,t){},503:function(e,a,t){},963:function(e,a,t){"use strict";t.r(a);var s=t(30),n=t(1),r=t(16),c=t(0),i=t(116),o=(t(465),t(502),t(467)),d=(t(458),t(453)),l=(t(514),t(515),t(503),t(933)),m=t(659),u=t(660),j=t(929),h=t(947),b=t(960),f=t(658),O=t(447),g=t(457),S=t(126),v=t(472),x=t(632),p=t(6),w=function(e){var a=e.intl,t=Object(g.h)().state,S=Object(c.useState)({}),w=Object(r.a)(S,2),M=w[0],A=w[1],U=Object(c.useState)(0),C=Object(r.a)(U,2),y=C[0],B=C[1],k=Object(c.useState)(0),N=Object(r.a)(k,2),P=N[0],I=N[1],R=Object(g.g)(),q=Object(o.a)({defaultValues:{}}),T=q.register,E=q.errors,V=q.handleSubmit;Object(c.useEffect)((function(){t&&Object.keys(t).length>0&&(A(t.stationCustomSMSBrandConfig?JSON.parse(t.stationCustomSMSBrandConfig):{}),I(t.stationEnableUseSMS),B(t.stationUseCustomSMSBrand))}),[t]);var F=function(e,a){A(Object(n.a)(Object(n.a)({},M),{},Object(s.a)({},e,a)))};return Object(p.jsx)(c.Fragment,{children:Object(p.jsxs)(l.a,{children:[Object(p.jsxs)("div",{className:"pt-1 pl-1 pointer",onClick:R.goBack,children:[Object(p.jsx)(x.a,{}),a.formatMessage({id:"goBack"})]}),Object(p.jsxs)("div",{className:"accountAdmin",children:[Object(p.jsx)("h1",{className:"accountAdmin__title",children:a.formatMessage({id:"info"},{type:"SMS"}).toUpperCase()}),Object(p.jsx)(m.a,{children:Object(p.jsx)(u.a,{sm:"12",md:"9",children:Object(p.jsxs)(j.a,{onSubmit:V((function(e){var s;s=Object(n.a)(Object(n.a)({},e),{},{stationsId:t.stationsId}),1===P&&1===y?0===Object.keys(E).length&&d.a.send({method:"POST",path:"Stations/updateConfigSMS",data:s,query:null}).then((function(e){e&&(200===e.statusCode?(i.c.success(a.formatMessage({id:"actionSuccess"},{action:a.formatMessage({id:"update"})})),setTimeout((function(){R.push("/pages/station")}),1e3)):i.c.warn(a.formatMessage({id:"actionFailed"},{action:a.formatMessage({id:"update"})})))})):(i.c.success(a.formatMessage({id:"actionSuccess"},{action:a.formatMessage({id:"update"})})),setTimeout((function(){R.push("/pages/station")}),1e3))})),children:[Object(p.jsxs)(h.a,{row:!0,children:[Object(p.jsx)(b.a,{sm:"3",for:"smsUrl",children:"SMS Enable"}),Object(p.jsx)(u.a,{sm:"9",children:Object(p.jsx)(v.a,{checked:1===P,onChange:function(e){var s;s=e.target.checked?1:0,d.a.send({method:"POST",path:"Stations/updateById",data:{id:t.stationsId,data:{stationEnableUseSMS:s}},query:null}).then((function(e){e&&(200===e.statusCode?I(s):i.c.warn(a.formatMessage({id:"actionFailed"},{action:a.formatMessage({id:"update"})})))}))}})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)(b.a,{sm:"3",children:a.formatMessage({id:"stationUseCustomSMSBrand"},{type:"SMS Brandname"})}),Object(p.jsx)(u.a,{sm:"9",children:Object(p.jsx)(v.a,{checked:1===y,onChange:function(e){var s;s=e.target.checked?1:0,d.a.send({method:"POST",path:"Stations/updateCustomSMSBrand",data:{stationsId:t.stationsId,stationUseCustomSMSBrand:s},query:null}).then((function(e){e&&(200===e.statusCode?B(s):i.c.warn(a.formatMessage({id:"actionFailed"},{action:a.formatMessage({id:"update"})})))}))},disabled:1!==P})})]}),Object(p.jsxs)(h.a,{row:!0,children:[Object(p.jsx)(b.a,{sm:"3",for:"smsUrl",children:"SMS Url"}),Object(p.jsx)(u.a,{sm:"5",children:Object(p.jsx)(f.a,{id:"smsUrl",name:"smsUrl",disabled:1!==y||1!==P,innerRef:T({required:1===y&&1===P}),invalid:E.smsUrl&&!0,placeholder:"SMS Url",value:M&&M.smsUrl||"",onChange:function(e){var a=e.target,t=a.name,s=a.value;F(t,s)}})}),Object(p.jsx)(u.a,{sm:"4",children:Object(p.jsx)("i",{children:"V\xed d\u1ee5: https://example.vn/SMS"})})]}),Object(p.jsxs)(h.a,{row:!0,children:[Object(p.jsx)(b.a,{sm:"3",for:"smsUserName",children:a.formatMessage({id:"smsUsername"},{type:"SMS"})}),Object(p.jsx)(u.a,{sm:"5",children:Object(p.jsx)(f.a,{id:"smsUserName",name:"smsUserName",disabled:1!==y||1!==P,innerRef:T({required:1===y&&1===P}),invalid:E.smsUserName&&!0,placeholder:a.formatMessage({id:"smsUsername"},{type:"SMS"}),value:M&&M.smsUserName||"",onChange:function(e){var a=e.target,t=a.name,s=a.value;F(t,s)}})}),Object(p.jsx)(u.a,{sm:"4",children:Object(p.jsx)("i",{children:"V\xed d\u1ee5: example123"})})]}),Object(p.jsxs)(h.a,{row:!0,children:[Object(p.jsx)(b.a,{sm:"3",for:"smsPassword",children:a.formatMessage({id:"smsPassword"},{type:"SMS"})}),Object(p.jsx)(u.a,{sm:"5",children:Object(p.jsx)(f.a,{name:"smsPassword",id:"smsPassword",disabled:1!==y||1!==P,innerRef:T({required:1===y&&1===P}),invalid:E.smsPassword&&!0,value:M&&M.smsPassword||"",placeholder:a.formatMessage({id:"smsPassword"},{type:"SMS"}),onChange:function(e){var a=e.target,t=a.name,s=a.value;F(t,s)}})}),Object(p.jsx)(u.a,{sm:"4",children:Object(p.jsx)("i",{children:"V\xed d\u1ee5: ...abc123"})})]}),Object(p.jsxs)(h.a,{row:!0,children:[Object(p.jsx)(b.a,{sm:"3",for:"smsBrand",children:a.formatMessage({id:"smsBrand"})}),Object(p.jsx)(u.a,{sm:"5",children:Object(p.jsx)(f.a,{name:"smsBrand",id:"smsBrand",disabled:1!==y||1!==P,innerRef:T({required:1===y&&1===P}),invalid:E.smsBrand&&!0,value:M&&M.smsBrand||"",placeholder:a.formatMessage({id:"smsBrand"}),onChange:function(e){var a=e.target,t=a.name,s=a.value;F(t,s)}})}),Object(p.jsx)(u.a,{sm:"4",children:Object(p.jsx)("i",{children:"V\xed d\u1ee5: KiemDinhOto"})})]}),Object(p.jsx)(h.a,{className:"d-flex mb-0 justify-content-center",children:Object(p.jsx)(O.a.Ripple,{className:"mr-1",color:"primary",type:"submit",children:a.formatMessage({id:"submit"})})})]})})})]})]})})};a.default=Object(S.c)(Object(c.memo)(w))}}]);
//# sourceMappingURL=21.466f87e4.chunk.js.map