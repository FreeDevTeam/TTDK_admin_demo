{"version":3,"sources":["helper/common.js","constants/url.js","services/request.js","../node_modules/reactstrap/es/CardBody.js","../node_modules/reactstrap/es/Card.js","views/pages/advertising/index.js"],"names":["getQueryString","query","result","queryString","stringify","toDataURL","src","callback","outputFormat","img","Image","crossOrigin","onload","dataURL","canvas","document","createElement","ctx","getContext","height","this","naturalHeight","width","naturalWidth","drawImage","complete","undefined","convertFileToBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onerror","HOST","process","send","method","path","data","headers","newUrl","url","token","window","localStorage","getItem","newToken","replace","Authorization","axios","then","catch","error","response","statusCode","message","toast","warn","clear","location","href","propTypes","tag","tagPropType","className","PropTypes","string","cssModule","object","innerRef","oneOfType","func","CardBody","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","_extends","ref","defaultProps","inverse","bool","color","body","outline","Card","injectIntl","intl","useState","preview","previewLeft","setPreviewLeft","previewRight","setPreviewRight","inputBannerLeft","useRef","inputBannerRight","fetchData","Service","res","systemLeftBannerAd","systemRightBannerAd","formatMessage","id","action","updateAdById","success","handleUpload","a","imageLeft","imageRight","handleDeleteBanner","useEffect","Fragment","onChange","e","imageBase","target","files","dataUrl","newItem","imageData","type","imageFormat","hidden","accept","htmlFor","onClick","current","value","Ripple"],"mappings":"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","file":"static/js/25.3864d138.chunk.js","sourcesContent":["// @ts-nocheck\r\nimport queryString from 'query-string'\r\n\r\nexport const getQueryString = (query) => {\r\n  const result = queryString.stringify(\r\n    query,\r\n  )\r\n\r\n  if (!result) return ''\r\n  return `?${result}`\r\n}\r\n\r\nexport const debounced = (delay, fn) => {\r\n  let timerId\r\n\r\n  return (...args) => {\r\n    if (timerId) {\r\n      clearTimeout(timerId)\r\n    }\r\n\r\n    timerId = setTimeout(() => {\r\n      fn(...args)\r\n      timerId = null\r\n    }, delay)\r\n  }\r\n}\r\n\r\nexport const capitalizeFirstLetter = (stringText) => {\r\n  return stringText.charAt(0).toUpperCase() + stringText.slice(1)\r\n}\r\n\r\nexport const getParameterByName = (name, url) => {\r\n  if (!url) url = ''\r\n  // eslint-disable-next-line\r\n  name = name.replace(/[\\[\\]]/g, '\\\\$&')\r\n  let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\r\n    results = regex.exec(url)\r\n  if (!results) return null\r\n  if (!results[2]) return ''\r\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\r\n}\r\n\r\nexport const isEquivalent = (a, b) => {\r\n  // Create arrays of property names\r\n  let aProps = Object.getOwnPropertyNames(a)\r\n  let bProps = Object.getOwnPropertyNames(b)\r\n  // If number of properties is different,\r\n  // objects are not equivalent\r\n  if (aProps.length !== bProps.length) {\r\n    return false\r\n  }\r\n  for (let i = 0; i < aProps.length; i++) {\r\n    let propName = aProps[i]\r\n    // If values of same property are not equal,\r\n    // objects are not equivalent\r\n    if (a[propName] !== b[propName]) {\r\n      return false\r\n    }\r\n  }\r\n  // If we made it this far, objects\r\n  // are considered equivalent\r\n  return true\r\n}\r\n\r\nexport const xoa_dau = (str) => {\r\n  str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n  str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n  str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n  str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n  str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n  str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n  str = str.replace(/đ/g, \"d\");\r\n  str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\r\n  str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\r\n  str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\r\n  str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\r\n  str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\r\n  str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\r\n  str = str.replace(/Đ/g, \"D\");\r\n  return str;\r\n}\r\n\r\nexport const number_to_price = (v) => {\r\n\r\n  if (v === 0) { return '0'; }\r\n\r\n  if (!v || v === \"\") {\r\n    return v\r\n  }\r\n  v = v.toString();\r\n\r\n  v = v.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1.\");\r\n\r\n  v = v.split(',').join('*').split('.').join(',').split('*').join('.');\r\n  return v;\r\n}\r\n\r\nexport const price_to_number = (v) => {\r\n  if (!v) { return 0; }\r\n  v = v.split(',').join('');\r\n  v = v.split('.').join(',');\r\n\r\n  return Number(v);\r\n}\r\n\r\nexport function validateEmail(email) {\r\n  // eslint-disable-next-line\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(email);\r\n}\r\n\r\nexport function validatePass(pass) {\r\n  const passw = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/;\r\n  return passw.test(pass);\r\n}\r\n\r\nexport function validateNumberPhone(number) {\r\n  let c1 = number.substring(0, 4);\r\n  if (c1 === \"+855\") {\r\n    return true;\r\n  }\r\n  c1 = number.substring(0, 3);\r\n  return c1 === \"+60\" || c1 === \"+84\";\r\n}\r\n\r\nexport function toDataURL(src, callback, outputFormat) {\r\n  var img = new Image();\r\n  img.crossOrigin = 'Anonymous';\r\n  img.onload = function () {\r\n    var canvas = document.createElement('CANVAS');\r\n    var ctx = canvas.getContext('2d');\r\n    var dataURL;\r\n    canvas.height = this.naturalHeight;\r\n    canvas.width = this.naturalWidth;\r\n    ctx.drawImage(this, 0, 0);\r\n    dataURL = canvas.toDataURL(outputFormat);\r\n    callback(dataURL);\r\n  };\r\n  img.src = src;\r\n  if (img.complete || img.complete === undefined) {\r\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\r\n    img.src = src;\r\n  }\r\n}\r\n\r\nexport function convertFileToBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = reject;\r\n  });\r\n}\r\n\r\n\r\nconst _cutNumber = (number) => {\r\n  const num = number.toString()\r\n  if(num.length > 3) {\r\n    let count = 0\r\n    let arr = []\r\n    for(let i = num.length - 1; i >= 0; i--) {\r\n      count++\r\n      if(count === 3) {\r\n        const str = num[i] + num[i+1] + num[i+2]\r\n        arr.push(str)\r\n        count = 0;\r\n      }\r\n      if(i === 0) {\r\n        if(count === 2) {\r\n          const str = num[i] + num[i+1]\r\n          arr.push(str)\r\n        } else if(count === 1) {\r\n          const str = num[i]\r\n          arr.push(str)\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    console.log(arr)\r\n    return arr.reverse().join(',')\r\n  } else {\r\n    return num;\r\n  }\r\n}\r\n\r\nexport function formatDot(number) {\r\n  if (!number) {\r\n    return ''\r\n  }\r\n  return _cutNumber(number)\r\n}\r\n\r\nexport function formatVND(number) {\r\n  if (!number) {\r\n    return ''\r\n  }\r\n  if (typeof number === 'number') {\r\n    return _cutNumber(number)\r\n  }\r\n\r\n  if(typeof number === 'string') {\r\n    let arrValue = number.split('.')\r\n    let formatedValue = _cutNumber(arrValue[0]);\r\n    return `${formatedValue}.${arrValue[1]}`;\r\n  }\r\n}","export const HOST = process.env.REACT_APP_API_URL || \"https://cdn-dev.kiemdinhoto.vn/\"\r\n\r\nexport const IMAGE_HOST = HOST + 'upload/'","// @ts-nocheck\r\nimport axios from 'axios'\r\nimport { HOST } from './../constants/url'\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  getQueryString,\r\n} from '../helper/common'\r\n\r\nfunction send({\r\n  method = 'get', path, data = null, query = null, headers = {}, newUrl\r\n}) {\r\n  return new Promise((resolve) => {\r\n    let url = HOST + `${path}${getQueryString(query)}`\r\n    if (newUrl) {\r\n      url = `${newUrl}${getQueryString(query)}`\r\n    }\r\n    let token = window.localStorage.getItem('accessToken')\r\n    \r\n    if (token) {\r\n      const newToken = token.replace(/\"/g, \"\");\r\n      headers.Authorization =`Bearer ${newToken}`\r\n    }\r\n    axios({\r\n      method, url, data, headers,\r\n    })\r\n      .then((result) => {\r\n        const data = result.data\r\n        return resolve(data)\r\n      })\r\n      .catch((error) => {\r\n        const {response ={}} = error\r\n        \r\n        const result = response.data ? response.data :null\r\n         \r\n        if (!result) {\r\n          toast.warn(\"Error from server\")\r\n        }\r\n        else {\r\n          const { statusCode, message: data } = result\r\n          if(statusCode === 505){\r\n            toast.warn(\"Unauthorized\")\r\n          }\r\n          else if (\r\n            (statusCode === 413 && data === 'Payload content length greater than maximum allowed: 10485760')) {\r\n            toast.warn(\"Image too large\")\r\n          }\r\n         else if (statusCode === 401 && data === 'Expired token received for JSON Web Token validation') {\r\n            window.localStorage.clear()\r\n            window.location.href = '/'\r\n           \r\n          }\r\n          else if (\r\n            (statusCode === 401 && data === 'Unauthorized') || (statusCode === 403 && data === 'InvalidToken')) {\r\n              window.localStorage.clear()\r\n              window.location.href = '/'\r\n            \r\n          } else {\r\n            return resolve(result.data)\r\n          }\r\n        }\r\n      })\r\n  })\r\n}\r\n\r\nexport default {\r\n  send,\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"innerRef\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import React, { useRef } from 'react'\r\nimport { convertFileToBase64 } from '../../../helper/common'\r\nimport { Card, CardBody, Button } from 'reactstrap'\r\nimport { toast } from 'react-toastify';\r\nimport \"./advertising.scss\"\r\nimport Service from '../../../services/request'\r\nimport { injectIntl } from 'react-intl'\r\nimport { Trash } from 'react-feather'\r\n\r\nfunction AdvertisingPage({ intl }) {\r\n  const [previewLeft, setPreviewLeft] = React.useState({\r\n    preview: '',\r\n    file: null\r\n  })\r\n  const [previewRight, setPreviewRight] = React.useState({\r\n    preview: '',\r\n    file: null\r\n  })\r\n  const inputBannerLeft = useRef()\r\n  const inputBannerRight = useRef()\r\n\r\n  function fetchData() {\r\n    Service.send({\r\n      method: \"POST\",\r\n      path: \"SystemConfigurations/findById\",\r\n      data: {\r\n        \"id\": 1\r\n      }\r\n    }).then(res => {\r\n      if (res.statusCode === 200) {\r\n        const { data } = res\r\n        if (data.systemLeftBannerAd) {\r\n          setPreviewLeft({\r\n            ...previewLeft,\r\n            preview: data.systemLeftBannerAd\r\n          })\r\n        }\r\n        if (data.systemRightBannerAd) {\r\n          setPreviewRight({\r\n            ...previewRight,\r\n            preview: data.systemRightBannerAd\r\n          })\r\n        }\r\n      } else {\r\n        toast.warn(intl.formatMessage({ id: 'actionFailed' }, { action: intl.formatMessage({ id: \"fetchData\" }) }))\r\n      }\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchData()\r\n  }, [])\r\n\r\n  function updateAdById(data, message) {\r\n    Service.send({\r\n      method: 'POST', path: 'SystemConfigurations/updateById', data, query: null\r\n    }).then(res => {\r\n      if (res) {\r\n        const { statusCode } = res\r\n        if (statusCode === 200) {\r\n          toast.success(intl.formatMessage({ id: 'actionSuccess' }, { action: intl.formatMessage({ id: message ? message : \"update\" }) }))\r\n        } else {\r\n          toast.warn(intl.formatMessage({ id: 'actionFailed' }, { action: intl.formatMessage({ id: \"update\" }) }))\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  async function handleUpload(data) {\r\n    return Service.send({\r\n      method: 'POST', path: 'Upload/uploadAdMediaFile', data, query: null\r\n    }).then(res => {\r\n      if (res) {\r\n        const { statusCode, data } = res\r\n        if (statusCode === 200) {\r\n          return data;\r\n        } else {\r\n          toast.warn(intl.formatMessage({ id: 'actionFailed' }, { action: intl.formatMessage({ id: \"upload\" }) }))\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  async function handleChangeBanner() {\r\n    let imageLeft = ''\r\n    let imageRight = ''\r\n    if (previewLeft.file) {\r\n      imageLeft = await handleUpload(previewLeft.file)\r\n    }\r\n    if (previewRight.file) {\r\n      imageRight = await handleUpload(previewRight.file)\r\n    }\r\n    updateAdById({\r\n      \"data\": {\r\n        \"systemLeftBannerAd\": imageLeft ? imageLeft : undefined,\r\n        \"systemRightBannerAd\": imageRight ? imageRight : undefined\r\n      }\r\n    })\r\n  }\r\n\r\n  function onChangeBannerLeft(e) {\r\n    const imageBase = e.target.files[0]\r\n    convertFileToBase64(e.target.files[0]).then(dataUrl => {\r\n      if(dataUrl) {\r\n        const newItem = {\r\n          imageData: dataUrl.replace(\"data:\" + imageBase.type + \";base64,\", \"\"),\r\n          imageFormat: imageBase.type.replace(\"image/\", \"\")\r\n        }\r\n        setPreviewLeft({\r\n          preview: dataUrl,\r\n          file: newItem\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  function onChangeBannerRight(e) {\r\n    const imageBase = e.target.files[0]\r\n    convertFileToBase64(e.target.files[0]).then(dataUrl => {\r\n      if(dataUrl) {\r\n        const newItem = {\r\n          imageData: dataUrl.replace(\"data:\" + imageBase.type + \";base64,\", \"\"),\r\n          imageFormat: imageBase.type.replace(\"image/\", \"\")\r\n        }\r\n        setPreviewRight({\r\n          preview: dataUrl,\r\n          file: newItem\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  function handleDeleteBanner(imageLeft, imageRight) {\r\n    updateAdById({\r\n      \"data\": {\r\n        \"systemLeftBannerAd\": imageLeft === '' ? imageLeft : undefined,\r\n        \"systemRightBannerAd\": imageRight === '' ? imageRight : undefined\r\n      }\r\n    }, 'delete')\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card className='edit_banner'>\r\n        <CardBody>\r\n          <div className='w-100 d-flex justify-content-between px-2'>\r\n          </div>\r\n          <div className='edit_banner__body'>\r\n            <div className='edit_banner__body_banner'>\r\n              <input ref={inputBannerLeft} onChange={onChangeBannerLeft} hidden id=\"banner-left\" type='file' accept='image/*' />\r\n              {\r\n                previewLeft.preview !== '' ? (\r\n                  <img src={previewLeft.preview} />\r\n                ) : (\r\n                  <label htmlFor='banner-left'>\r\n                    {intl.formatMessage({ id: 'selectFile' })}\r\n                    <div className='edit_banner__body_banner_pixel'>160x600</div>\r\n                  </label>\r\n                )\r\n              }\r\n            </div>\r\n            <div className='edit_banner__body_banner'>\r\n              <input ref={inputBannerRight} onChange={onChangeBannerRight} hidden id=\"banner-right\" type='file' accept='image/*' />\r\n              {\r\n                previewRight.preview !== '' ? (\r\n                  <img src={previewRight.preview} />\r\n                ) : (\r\n                  <label htmlFor='banner-right'>\r\n                    {intl.formatMessage({ id: 'selectFile' })}\r\n                    <div className='edit_banner__body_banner_pixel'>160x600</div>\r\n                  </label>\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className='edit_banner__body py-1'>\r\n            <div \r\n              onClick={() => {\r\n                if(previewRight.preview !== '') {\r\n                  inputBannerLeft.current.value = ''\r\n                  setPreviewLeft({ preview: '', file: null })\r\n                  previewLeft.preview && handleDeleteBanner('', undefined)\r\n                }\r\n              }} \r\n              className='display-6 cursor-pointer delete_button'\r\n            ><Trash /></div>\r\n            <div \r\n              onClick={() => {\r\n                if(previewRight.preview !== '') {\r\n                  inputBannerRight.current.value = ''\r\n                  setPreviewRight({ preview: '', file: null })\r\n                  handleDeleteBanner(undefined, '')\r\n                }\r\n              }} \r\n              className='display-6 cursor-pointer delete_button'\r\n            ><Trash /></div>\r\n          </div>\r\n        </CardBody>\r\n        <div className='row pb-2'>\r\n          <div className='col-12 col-md-6 custom_padding'>\r\n            <div className='d-flex justify-content-end'>\r\n              <Button.Ripple onClick={handleChangeBanner} color='primary'>{intl.formatMessage({ id: 'submit' })}</Button.Ripple>\r\n            </div>\r\n          </div>\r\n          <div className='col-12 col-md-6'>\r\n            <Button.Ripple onClick={fetchData} color='secondary'>{intl.formatMessage({ id: 'cancel' })}</Button.Ripple>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default injectIntl(AdvertisingPage)\r\n"],"sourceRoot":""}