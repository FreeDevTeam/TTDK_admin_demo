(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[25],{452:function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return c})),t.d(a,"a",(function(){return s}));var n=t(460),r=t.n(n),i=function(e){var a=r.a.stringify(e);return a?"?".concat(a):""};function c(e,a,t){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var e,n=document.createElement("CANVAS"),r=n.getContext("2d");n.height=this.naturalHeight,n.width=this.naturalWidth,r.drawImage(this,0,0),e=n.toDataURL(t),a(e)},n.src=e,(n.complete||void 0===n.complete)&&(n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",n.src=e)}function s(e){return new Promise((function(a,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return a(n.result)},n.onerror=t}))}},453:function(e,a,t){"use strict";var n=t(78),r=t.n(n),i="https://cdn-dev.kiemdinhoto.vn/",c=t(116),s=t(452);a.a={send:function(e){var a=e.method,t=void 0===a?"get":a,n=e.path,o=e.data,d=void 0===o?null:o,l=e.query,u=void 0===l?null:l,f=e.headers,b=void 0===f?{}:f,m=e.newUrl;return new Promise((function(e){var a=i+"".concat(n).concat(Object(s.b)(u));m&&(a="".concat(m).concat(Object(s.b)(u)));var o=window.localStorage.getItem("accessToken");if(o){var l=o.replace(/"/g,"");b.Authorization="Bearer ".concat(l)}r()({method:t,url:a,data:d,headers:b}).then((function(a){var t=a.data;return e(t)})).catch((function(a){var t=a.response,n=void 0===t?{}:t,r=n.data?n.data:null;if(r){var i=r.statusCode,s=r.message;if(505===i)c.c.warn("Unauthorized");else if(401===i&&"Expired token received for JSON Web Token validation"===s)window.localStorage.clear(),window.location.href="/";else{if(!(401===i&&"Unauthorized"===s||403===i&&"InvalidToken"===s))return e(r.data);window.localStorage.clear(),window.location.href="/"}}else c.c.warn("Error from server")}))}))}}},598:function(e,a,t){"use strict";var n=t(15),r=t(21),i=t(0),c=t.n(i),s=t(5),o=t.n(s),d=t(114),l=t.n(d),u=t(77),f={tag:u.q,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},b=function(e){var a=e.className,t=e.cssModule,i=e.innerRef,s=e.tag,o=Object(r.a)(e,["className","cssModule","innerRef","tag"]),d=Object(u.m)(l()(a,"card-body"),t);return c.a.createElement(s,Object(n.a)({},o,{className:d,ref:i}))};b.propTypes=f,b.defaultProps={tag:"div"},a.a=b},664:function(e,a,t){"use strict";var n=t(15),r=t(21),i=t(0),c=t.n(i),s=t(5),o=t.n(s),d=t(114),l=t.n(d),u=t(77),f={tag:u.q,inverse:o.a.bool,color:o.a.string,body:o.a.bool,outline:o.a.bool,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},b=function(e){var a=e.className,t=e.cssModule,i=e.color,s=e.body,o=e.inverse,d=e.outline,f=e.tag,b=e.innerRef,m=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),p=Object(u.m)(l()(a,"card",!!o&&"text-white",!!s&&"card-body",!!i&&(d?"border":"bg")+"-"+i),t);return c.a.createElement(f,Object(n.a)({},m,{className:p,ref:b}))};b.propTypes=f,b.defaultProps={tag:"div"},a.a=b},941:function(e,a,t){},966:function(e,a,t){"use strict";t.r(a);var n=t(512),r=t.n(n),i=t(513),c=t(1),s=t(16),o=t(0),d=t.n(o),l=t(452),u=t(664),f=t(598),b=t(447),m=t(116),p=(t(941),t(453)),v=t(126),j=t(654),h=t(6);a.default=Object(v.c)((function(e){var a=e.intl,t=d.a.useState({preview:"",file:null}),n=Object(s.a)(t,2),v=n[0],g=n[1],O=d.a.useState({preview:"",file:null}),w=Object(s.a)(O,2),y=w[0],x=w[1],A=Object(o.useRef)(),_=Object(o.useRef)();function N(){p.a.send({method:"POST",path:"SystemConfigurations/findById",data:{id:1}}).then((function(e){if(200===e.statusCode){var t=e.data;t.systemLeftBannerAd&&g(Object(c.a)(Object(c.a)({},v),{},{preview:t.systemLeftBannerAd})),t.systemRightBannerAd&&x(Object(c.a)(Object(c.a)({},y),{},{preview:t.systemRightBannerAd}))}else m.c.warn(a.formatMessage({id:"actionFailed"},{action:a.formatMessage({id:"fetchData"})}))}))}function M(e,t){p.a.send({method:"POST",path:"SystemConfigurations/updateById",data:e,query:null}).then((function(e){e&&(200===e.statusCode?m.c.success(a.formatMessage({id:"actionSuccess"},{action:a.formatMessage({id:t||"update"})})):m.c.warn(a.formatMessage({id:"actionFailed"},{action:a.formatMessage({id:"update"})})))}))}function R(e){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.a.send({method:"POST",path:"Upload/uploadAdMediaFile",data:t,query:null}).then((function(e){if(e){var t=e.statusCode,n=e.data;if(200===t)return n;m.c.warn(a.formatMessage({id:"actionFailed"},{action:a.formatMessage({id:"upload"})}))}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(i.a)(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",t="",!v.file){e.next=6;break}return e.next=5,R(v.file);case 5:a=e.sent;case 6:if(!y.file){e.next=10;break}return e.next=9,R(y.file);case 9:t=e.sent;case 10:M({data:{systemLeftBannerAd:a||void 0,systemRightBannerAd:t||void 0}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,a){M({data:{systemLeftBannerAd:""===e?e:void 0,systemRightBannerAd:""===a?a:void 0}},"delete")}return d.a.useEffect((function(){N()}),[]),Object(h.jsx)(d.a.Fragment,{children:Object(h.jsxs)(u.a,{className:"edit_banner",children:[Object(h.jsxs)(f.a,{children:[Object(h.jsx)("div",{className:"w-100 d-flex justify-content-between px-2"}),Object(h.jsxs)("div",{className:"edit_banner__body",children:[Object(h.jsxs)("div",{className:"edit_banner__body_banner",children:[Object(h.jsx)("input",{ref:A,onChange:function(e){Object(l.a)(e.target.files[0]).then((function(e){if(e){var a={imageData:e.replace("data:image/png;base64,",""),imageFormat:"png"};g({preview:e,file:a})}}))},hidden:!0,id:"banner-left",type:"file",accept:"image/*"}),""!==v.preview?Object(h.jsx)("img",{src:v.preview}):Object(h.jsxs)("label",{htmlFor:"banner-left",children:[a.formatMessage({id:"selectFile"}),Object(h.jsx)("div",{className:"edit_banner__body_banner_pixel",children:"160x600"})]})]}),Object(h.jsxs)("div",{className:"edit_banner__body_banner",children:[Object(h.jsx)("input",{ref:_,onChange:function(e){Object(l.a)(e.target.files[0]).then((function(e){if(e){var a={imageData:e.replace("data:image/png;base64,",""),imageFormat:"png"};x({preview:e,file:a})}}))},hidden:!0,id:"banner-right",type:"file",accept:"image/*"}),""!==y.preview?Object(h.jsx)("img",{src:y.preview}):Object(h.jsxs)("label",{htmlFor:"banner-right",children:[a.formatMessage({id:"selectFile"}),Object(h.jsx)("div",{className:"edit_banner__body_banner_pixel",children:"160x600"})]})]})]}),Object(h.jsxs)("div",{className:"edit_banner__body py-1",children:[Object(h.jsx)("div",{onClick:function(){""!==y.preview&&(A.current.value="",g({preview:"",file:null}),v.preview&&B("",void 0))},className:"display-6 cursor-pointer delete_button",children:Object(h.jsx)(j.a,{})}),Object(h.jsx)("div",{onClick:function(){""!==y.preview&&(_.current.value="",x({preview:"",file:null}),B(void 0,""))},className:"display-6 cursor-pointer delete_button",children:Object(h.jsx)(j.a,{})})]})]}),Object(h.jsxs)("div",{className:"row pb-2",children:[Object(h.jsx)("div",{className:"col-12 col-md-6 custom_padding",children:Object(h.jsx)("div",{className:"d-flex justify-content-end",children:Object(h.jsx)(b.a.Ripple,{onClick:function(){return C.apply(this,arguments)},color:"primary",children:a.formatMessage({id:"submit"})})})}),Object(h.jsx)("div",{className:"col-12 col-md-6",children:Object(h.jsx)(b.a.Ripple,{onClick:N,color:"secondary",children:a.formatMessage({id:"cancel"})})})]})]})})}))}}]);
//# sourceMappingURL=25.ab916644.chunk.js.map